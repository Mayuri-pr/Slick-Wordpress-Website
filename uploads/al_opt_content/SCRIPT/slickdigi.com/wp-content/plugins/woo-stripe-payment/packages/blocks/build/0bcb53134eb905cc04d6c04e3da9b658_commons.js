(self.webpackChunkwcStripeBlocks=self.webpackChunkwcStripeBlocks||[]).push([[223],{926:function(t,e,r){!((t,e)=>{function r(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){if(null==t)return{};var r,n,o=((t,e)=>{if(null==t)return{};for(var r,n,o={},a=Object.keys(t),n=0;n<a.length;n++)r=a[n],0<=e.indexOf(r)||(o[r]=t[r]);return o})(t,e);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(t),n=0;n<a.length;n++)r=a[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r]);return o}function c(t,e){return(t=>{if(Array.isArray(t))return t})(t)||((t,e)=>{var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}})(t,e)||((t,e)=>{var r;if(t)return"string"==typeof t?u(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0})(t,e)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s,f,p,y,m={exports:{}},h=(m.exports=(()=>{if(y)return p;y=1;var t=f?s:(f=1,s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function e(){}function r(){}return r.resetWarningCache=e,p=function(){function n(e,r,n,o,a,i){var i;if(i!==t)throw(i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",i}function o(){return n}var a={array:n.isRequired=n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a}})()(),l(m.exports)),d=function(t,r,n){var o=!!n,a=e.useRef(n);e.useEffect(function(){a.current=n},[n]),e.useEffect(function(){var e;return o&&t?(t.on(r,e=function(){a.current&&a.current.apply(a,arguments)}),function(){t.off(r,e)}):function(){}},[o,r,t,a])},v=function(t){var r=e.useRef(t);return e.useEffect(function(){r.current=t},[t]),r.current},b=function(t){return null!==t&&"object"===o(t)},g="[object Object]",w=function t(e,r){if(!b(e)||!b(r))return e===r;var n=Array.isArray(e);if(n!==Array.isArray(r))return!1;var o=Object.prototype.toString.call(e)===g;if(o!=(Object.prototype.toString.call(r)===g))return!1;if(!o&&!n)return e===r;var a=Object.keys(e),i=Object.keys(r);if(a.length!==i.length)return!1;for(var c={},u=0;u<a.length;u+=1)c[a[u]]=!0;for(var l=0;l<i.length;l+=1)c[i[l]]=!0;var o=Object.keys(c),f,p;return o.length===a.length&&(f=e,p=r,o.every(function(e){return t(f[e],p[e])}))},O=function(t,e,r){return b(t)?Object.keys(t).reduce(function(o,i){var c=!b(e)||!w(t[i],e[i]);return r.includes(i)?(c&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),o):c?n(n({},o||{}),{},a({},i,t[i])):o},null):null},E="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",S=function(t){var e,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:E;if(null===t||b(e=t)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment)return t;throw new Error(r)},P=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:E,t;return(t=>b(t)&&"function"==typeof t.then)(t)?{tag:"async",stripePromise:Promise.resolve(t).then(function(t){return S(t,e)})}:null===(t=S(t,e))?{tag:"empty"}:{tag:"sync",stripe:t}},j=function(t){t&&t._registerWrapper&&t.registerAppInfo&&(t._registerWrapper({name:"react-stripe-js",version:"2.7.0"}),t.registerAppInfo({name:"react-stripe-js",version:"2.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},x=e.createContext(null),_=(x.displayName="ElementsContext",function(t,e){if(t)return t;throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(e," in an <Elements> provider."))}),m,L=((m=function(t){var r=t.stripe,n=t.options,t=t.children,a=e.useMemo(function(){return P(r)},[r]),i=c(e.useState(function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(n):null}}),2),u=i[0],l=i[1],s=(e.useEffect(function(){var t=!0,e=function(t){l(function(e){return e.stripe?e:{stripe:t,elements:t.elements(n)}})};return"async"!==a.tag||u.stripe?"sync"!==a.tag||u.stripe||e(a.stripe):a.stripePromise.then(function(r){r&&t&&e(r)}),function(){t=!1}},[a,u,n]),v(r)),f=(e.useEffect(function(){null!==s&&s!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[s,r]),v(n));return e.useEffect(function(){var t;u.elements&&(t=O(n,f,["clientSecret","fonts"]))&&u.elements.update(t)},[n,f,u.elements]),e.useEffect(function(){j(u.stripe)},[u.stripe]),e.createElement(x.Provider,{value:u},t)}).propTypes={stripe:h.any,options:h.object},function(t){var r=e.useContext(x);return _(r,t)}),C=function(t){return(0,t.children)(L("mounts <ElementsConsumer>"))},A=(C.propTypes={children:h.func.isRequired},["on","session"]),M=e.createContext(null),D=(M.displayName="CustomCheckoutSdkContext",function(t,e){if(t)return t;throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(e," in an <CustomCheckoutProvider> provider."))}),T=e.createContext(null),N=(T.displayName="CustomCheckoutContext",function(t){var r=t.stripe,o=t.options,t=t.children,u=e.useMemo(function(){return P(r,"Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[r]),l=c(e.useState(null),2),s=l[0],f=l[1],l=c(e.useState(function(){return{stripe:"sync"===u.tag?u.stripe:null,customCheckoutSdk:null}}),2),y=l[0],m=l[1],h=function(t,e){m(function(r){return r.stripe&&r.customCheckoutSdk?r:{stripe:t,customCheckoutSdk:e}})},d=e.useRef(!1),g=(e.useEffect(function(){var t=!0;return"async"!==u.tag||y.stripe?"sync"===u.tag&&u.stripe&&!d.current&&(d.current=!0,u.stripe.initCustomCheckout(o).then(function(t){t&&(h(u.stripe,t),t.on("change",f))})):u.stripePromise.then(function(e){e&&t&&!d.current&&(d.current=!0,e.initCustomCheckout(o).then(function(t){t&&(h(e,t),t.on("change",f))}))}),function(){t=!1}},[u,y,o,f]),v(r)),O=(e.useEffect(function(){null!==g&&g!==r&&console.warn("Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[g,r]),v(o)),l=(e.useEffect(function(){var t,e,t,e;y.customCheckoutSdk&&(!o.clientSecret||b(O)||w(o.clientSecret,O.clientSecret)||console.warn("Unsupported prop change: options.client_secret is not a mutable property."),t=null==O||null==(t=O.elementsOptions)?void 0:t.appearance,e=null==o||null==(e=o.elementsOptions)?void 0:e.appearance)&&!w(e,t)&&y.customCheckoutSdk.changeAppearance(e)},[o,O,y.customCheckoutSdk]),e.useEffect(function(){j(y.stripe)},[y.stripe]),e.useMemo(function(){return t=y.customCheckoutSdk,e=s,t?(t.on,t.session,n(n({},i(t,A)),e||t.session())):null;var t,e},[y.customCheckoutSdk,s]));return y.customCheckoutSdk?e.createElement(M.Provider,{value:y},e.createElement(T.Provider,{value:l},t)):null}),I=(N.propTypes={stripe:h.any,options:h.shape({clientSecret:h.string.isRequired,elementsOptions:h.object}).isRequired},function(t){var r=e.useContext(M),n=e.useContext(x);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CustomCheckoutProvider> and <Elements> providers."));return r?D(r,t):_(n,t)}),R=function(t,r){var n,o="".concat((n=t).charAt(0).toUpperCase()+n.slice(1),"Element"),n=r?function(t){I("mounts <".concat(o,">"));var r=t.id,n;return e.createElement("div",{id:r,className:t.className})}:function(r){var n,a=r.id,i=r.className,u=r.options,l=void 0===u?{}:u,u=r.onBlur,f=r.onFocus,p=r.onReady,y=r.onChange,m=r.onEscape,h=r.onClick,b=r.onLoadError,g=r.onLoaderStart,w=r.onNetworksChange,E=r.onConfirm,S=r.onCancel,P=r.onShippingAddressChange,r=r.onShippingRateChange,x=I("mounts <".concat(o,">")),_="elements"in x?x.elements:null,k="customCheckoutSdk"in x?x.customCheckoutSdk:null,x=c(e.useState(null),2),C=x[0],A=x[1],M=e.useRef(null),D=e.useRef(null),T=(d(C,"blur",u),d(C,"focus",f),d(C,"escape",m),d(C,"click",h),d(C,"loaderror",b),d(C,"loaderstart",g),d(C,"networkschange",w),d(C,"confirm",E),d(C,"cancel",S),d(C,"shippingaddresschange",P),d(C,"shippingratechange",r),d(C,"change",y),d(C,"ready",n=p?"expressCheckout"===t?p:function(){p(C)}:n),e.useLayoutEffect(function(){var e;null===M.current&&null!==D.current&&(_||k)&&(e=null,k?e=k.createElement(t,l):_&&(e=_.create(t,l)),M.current=e,A(e),e)&&e.mount(D.current)},[_,k,l]),v(l));return e.useEffect(function(){var t;M.current&&(t=O(l,T,["paymentRequest"]))&&M.current.update(t)},[l,T]),e.useLayoutEffect(function(){return function(){if(M.current&&"function"==typeof M.current.destroy)try{M.current.destroy(),M.current=null}catch(t){}}},[]),e.createElement("div",{id:a,className:i,ref:D})};return n.propTypes={id:h.string,className:h.string,onChange:h.func,onBlur:h.func,onFocus:h.func,onReady:h.func,onEscape:h.func,onClick:h.func,onLoadError:h.func,onLoaderStart:h.func,onNetworksChange:h.func,onConfirm:h.func,onCancel:h.func,onShippingAddressChange:h.func,onShippingRateChange:h.func,options:h.object},n.displayName=o,n.__elementType=t,n},B="undefined"==typeof window,G=e.createContext(null),F=(G.displayName="EmbeddedCheckoutProviderContext",function(){var t=e.useContext(G);if(t)return t;throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>")}),U=B?function(t){var r=t.id,t=t.className;return F(),e.createElement("div",{id:r,className:t})}:function(t){var r=t.id,t=t.className,o=F().embeddedCheckout,a=e.useRef(!1),i=e.useRef(null);return e.useLayoutEffect(function(){return!a.current&&o&&null!==i.current&&(o.mount(i.current),a.current=!0),function(){if(a.current&&o)try{o.unmount(),a.current=!1}catch(t){}}},[o]),e.createElement("div",{ref:i,id:r,className:t})},Y=R("auBankAccount",B),q=R("card",B),V=R("cardNumber",B),$=R("cardExpiry",B),W=R("cardCvc",B),J=R("fpxBank",B),K=R("iban",B),H=R("idealBank",B),X=R("p24Bank",B),z=R("epsBank",B),Z=R("payment",B),Q=R("expressCheckout",B),tt=R("paymentRequestButton",B),et=R("linkAuthentication",B),rt=R("address",B),nt=R("shippingAddress",B),ot=R("paymentMethodMessaging",B),at=R("affirmMessage",B),R=R("afterpayClearpayMessage",B);t.AddressElement=rt,t.AffirmMessageElement=at,t.AfterpayClearpayMessageElement=R,t.AuBankAccountElement=Y,t.CardCvcElement=W,t.CardElement=q,t.CardExpiryElement=$,t.CardNumberElement=V,t.CustomCheckoutProvider=N,t.Elements=m,t.ElementsConsumer=C,t.EmbeddedCheckout=U,t.EmbeddedCheckoutProvider=function(t){var r=t.stripe,n=t.options,t=t.children,a=e.useMemo(function(){return P(r,"Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[r]),i=e.useRef(null),u=e.useRef(null),l=c(e.useState({embeddedCheckout:null}),2),s=l[0],f=l[1],p=(e.useEffect(function(){var t;u.current||i.current||(t=function(t){u.current||i.current||(u.current=t,i.current=u.current.initEmbeddedCheckout(n).then(function(t){f({embeddedCheckout:t})}))},"async"!==a.tag||u.current||!n.clientSecret&&!n.fetchClientSecret?"sync"!==a.tag||u.current||!n.clientSecret&&!n.fetchClientSecret||t(a.stripe):a.stripePromise.then(function(e){e&&t(e)}))},[a,n,s,u]),e.useEffect(function(){return function(){s.embeddedCheckout?(i.current=null,s.embeddedCheckout.destroy()):i.current&&i.current.then(function(){i.current=null,s.embeddedCheckout&&s.embeddedCheckout.destroy()})}},[s.embeddedCheckout]),e.useEffect(function(){j(u)},[u]),v(r)),y=(e.useEffect(function(){null!==p&&p!==r&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[p,r]),v(n));return e.useEffect(function(){null!=y&&(null!=n?(void 0===n.clientSecret&&void 0===n.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=y.clientSecret&&n.clientSecret!==y.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=y.fetchClientSecret&&n.fetchClientSecret!==y.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=y.onComplete&&n.onComplete!==y.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))},[y,n]),e.createElement(G.Provider,{value:s},t)},t.EpsBankElement=z,t.ExpressCheckoutElement=Q,t.FpxBankElement=J,t.IbanElement=K,t.IdealBankElement=H,t.LinkAuthenticationElement=et,t.P24BankElement=X,t.PaymentElement=Z,t.PaymentMethodMessagingElement=ot,t.PaymentRequestButtonElement=tt,t.ShippingAddressElement=nt,t.useCustomCheckout=function(){!(t=>{var r=e.useContext(M);D(r,t)})("calls useCustomCheckout()");var t=e.useContext(T);if(t)return t;throw new Error("Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.")},t.useElements=function(){return L("calls useElements()").elements},t.useStripe=function(){return I("calls useStripe()").stripe}})(e,r(609))},427:(t,e,r)=>{r.d(e,{c:()=>l});var n="https://js.stripe.com/v3",o=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,a="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",i=null,c=Promise.resolve().then(function(){return i=(t=null)!==i?i:new Promise(function(e,r){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe,0,window.Stripe)e(window.Stripe);else try{var i=(()=>{for(var t=document.querySelectorAll('script[src^="'.concat(n,'"]')),e=0;e<t.length;e++){var r=t[e];if(o.test(r.src))return r}return null})();i,0,(i=i||(t=>{var t=(t,""),r=document.createElement("script"),t;if(r.src="".concat(n).concat(t),t=document.head||document.body)return t.appendChild(r),r;throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.")})(t)).addEventListener("load",function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}),i.addEventListener("error",function(){r(new Error("Failed to load Stripe.js"))})}catch(t){r(t)}else e(null)});var t}),u=!1,l=(c.catch(function(t){u||console.warn(t)}),function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];u=!0;var n=Date.now();return c.then(function(t){return((t,e,r)=>{var t;return null===t?null:(((t,e)=>{t&&t._registerWrapper&&t._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:e})})(t=t.apply(void 0,e),r),t)})(t,e,n)})})},510:(t,e,r)=>{r.r(e);var e=r(703),o=r(926),a=r(279),i=r(0),c=r(954),u=r(834),l=r(87);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var p=(0,e.getSetting)("stripeBNPLCart_data").stripe_affirm,y,m=((0,c.Mb)()&&p&&p.cartEnabled&&(y=function(t){var t,r,n,n,t,u,y,t=t.cart.cartTotals,h=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=s(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==s(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({amount:parseInt(t.total_price),currency:t.currency_code},p.cartMessageOptions),r=(t={amount:parseInt(t.total_price),currency:t.currency_code}).amount,n=void 0===(n=t.billingCountry)?null:n,t=t.currency,u=p.requirements,y=p.accountCountry;return(n?t in u&&y===n&&5e3<=r&&r<=3e6:t in u&&5e3<=r&&r<=3e6)?l.createElement(i.TotalsWrapper,null,l.createElement("div",{className:"wc-block-components-totals-item wc-stripe-cart-message-container stripe_affirm"},l.createElement(o.AffirmMessageElement,{options:h}))):null},(0,a.registerPlugin)("wc-stripe-blocks-affirm",{render:function(){var t;return l.createElement(i.ExperimentalOrderMeta,null,l.createElement(function(t){return l.createElement(u.A,null,l.createElement(o.Elements,{stripe:c.eV,options:{locale:p.elementOptions.locale}},l.createElement(y,t)))},null))},scope:"woocommerce-checkout"})),r(87));function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=h(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=h(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==h(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var b=(0,e.getSetting)("stripeBNPLCart_data").stripe_afterpay,g,w=((0,c.Mb)()&&b&&b.cartEnabled&&(g=function(t){var t=t.cart,r=t.billingAddress,t=t.cartTotals,a=t.currency_code,c=t.currency_minor_unit,t=t.total_price,r=r.country,s;if((t=>{var e=t.total,r=t.currency,n=!1,t=t.country,a=b.requiredParams,i=b.accountCountry,a,u,n;return(a=!!a.hasOwnProperty(r)&&a[r])&&(u=null==a?void 0:a[0],n=-1<(u=Array.isArray(u)?u:[u]).indexOf(i)&&("EUR"!==r||!t||i===t)&&e>(null==a?void 0:a[1])&&e<(null==a?void 0:a[2])),n})({total:parseInt(t)/Math.pow(10,c),currency:a,country:r}))return m.createElement(i.TotalsWrapper,null,m.createElement("div",{className:"wc-block-components-totals-item wc-stripe-cart-message-container stripe_afterpay"},m.createElement(o.AfterpayClearpayMessageElement,{options:v(v({},b.cartMessageOptions),{amount:parseInt(t),currency:a,isCartEligible:!0})})))},(0,a.registerPlugin)("wc-stripe-blocks-afterpay",{render:function(t){var e;return m.createElement(i.ExperimentalOrderMeta,null,m.createElement(function(t){return m.createElement(u.A,null,m.createElement(o.Elements,{stripe:c.eV,options:{locale:b.elementOptions.locale}},m.createElement(g,t)))},null))},scope:"woocommerce-checkout"})),r(87));function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var S=(0,e.getSetting)("stripeBNPLCart_data").stripe_klarna,P,j;(0,c.Mb)()&&S&&S.cartEnabled&&(P=S.requiredParams,j=function(t){var t=t.cart.cartTotals,r=t.currency_code,t=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=O(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=O(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==O(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({amount:parseInt(t.total_price),currency:t.currency_code,paymentMethodTypes:["klarna"]},S.messageOptions);return(0,c.jc)({requiredParams:P,currency:r})?w.createElement(i.TotalsWrapper,null,w.createElement("div",{className:"wc-block-components-totals-item wc-stripe-cart-message-container stripe_klarna"},w.createElement(o.PaymentMethodMessagingElement,{options:t}))):null},(0,a.registerPlugin)("wc-stripe-blocks-klarna",{render:function(){var t;return w.createElement(i.ExperimentalOrderMeta,null,w.createElement(function(t){return w.createElement(u.A,null,w.createElement(o.Elements,{stripe:c.eV,options:{locale:S.elementOptions.locale}},w.createElement(j,t)))},null))},scope:"woocommerce-checkout"}))},979:(t,e,r)=>{r.d(e,{Fy:()=>S,YR:()=>_,g5:()=>p,in:()=>n.i});var n=r(214),e=r(942),a=r.n(e),i=(r(87),r(87)),c=r(87);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=["getData","content"];function s(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=u(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==u(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var p=function(t){var e=t.getData,r=t.content,t=((t,e)=>{if(null==t)return{};var r,n,o=((t,e)=>{if(null==t)return{};var r={},n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0<=e.indexOf(n))continue;r[n]=t[n]}return r})(t,e);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(t),n=0;n<a.length;n++)r=a[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r]);return o})(t,l),r=r,a=e("description"),u=(0,i.useRef)(null);return(0,i.useEffect)(function(){u.current&&0==u.current.childNodes.length&&u.current.classList.add("no-content")}),c.createElement(c.Fragment,null,a&&c.createElement(y,{desc:a,payment_method:e("name")}),c.createElement("div",{ref:u,className:"wc-stripe-blocks-payment-method-content"},c.createElement(r,f(f({},t),{},{getData:e}))))},y=function(t){var e=t.desc,r;return c.createElement("div",{className:"wc-stripe-blocks-payment-method__desc ".concat(t.payment_method)},c.createElement("p",null,e))},e=r(455),h=r.n(e),d=r(954),v=r(87);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(){g=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),n=new M(n||[]);return o(e,"_invoke",{value:k(t,r,n)}),e}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",y="suspendedYield",m="executing",h="completed",d={};function v(){}function w(){}function O(){}var a={},S=(l(a,i,function(){return this}),Object.getPrototypeOf),S=S&&S(S(D([]))),j=(S&&S!==r&&n.call(S,i)&&(a=S),O.prototype=v.prototype=Object.create(a));function x(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function _(t,e){function r(o,a,i,c){var o=f(t[o],t,a),l,a;if("throw"!==o.type)return(a=(l=o.arg).value)&&"object"==b(a)&&n.call(a,"__await")?e.resolve(a.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(a).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)});c(o.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function k(e,r,n){var o=p;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var c=L(c,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var c=f(e,r,n);if("normal"===c.type){if(o=n.done?h:y,c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n],n,o;return o===t?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d):"throw"===(n=f(o,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,d):(o=n.arg)?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function D(e){if(e||""===e){var r=e[i],o,r;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return o=-1,(r=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r}).next=r}throw new TypeError(b(e)+" is not iterable")}return o(j,"constructor",{value:w.prototype=O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=l(O,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var t="function"==typeof t&&t.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,c,function(){return this}),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},x(j),l(j,u,"Generator"),l(j,i,function(){return this}),l(j,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[],n;for(n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}var i=(a=a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc?null:a)?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],n,o;if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(o=n.arg,A(r)),o}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function w(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function O(t,e){return(t=>{if(Array.isArray(t))return t})(t)||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(t,e)||((t,e)=>{var r;if(t)return"string"==typeof t?E(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(t,e):void 0})(t,e)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var S=function(t){var e=t.i18n,r=t.active,n=t.paymentMethodType,o=t.cardFormComplete,a=void 0!==o&&o,o=t.onChange,u=void 0===o?null:o,l=t.createPaymentMethod,o=O((0,i.useState)(null),2),t=o[0],p=o[1],o=O((0,i.useState)(""),2),m=o[0],b=o[1],o=O((0,i.useState)(!1),2),S=o[0],j=o[1];return(0,i.useEffect)(function(){var t,e;r&&a&&"card"===n&&(j(!0),b(""),l().then((t=g().mark(function t(e){var r,n;return g().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e)return t.next=3,h()({url:(0,d.aM)("create/payment_intent"),method:"POST",data:{payment_method_id:e.id,payment_method:"stripe_cc"}});t.next=6;break;case 3:n=t.sent,p(n.installments),null!=(r=Object.keys(n.installments))&&r.length&&b(Object.keys(n.installments)[0]);case 6:case"end":return t.stop()}},t)}),e=function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){w(a,n,o,i,c,"next",t)}function c(t){w(a,n,o,i,c,"throw",t)}i(void 0)})},function(t){return e.apply(this,arguments)})).catch(function(t){console.log(t)}).finally(function(){return j(!1)}))},[r,a,n,l]),r&&"card"===n?v.createElement("div",{className:"wc-stripe-installments__container"},v.createElement("label",{className:"wc-stripe-installments__label"},e.installments.pay),v.createElement(P,{i18n:e,installment:m,onChange:function(t){b(t.target.value),u&&u(t.target.value)},installments:t,isLoading:S})):null},P=function(t){var t,r=t.installment,n=t.installments,o=t.onChange,i=t.isLoading,t=t.i18n,t=i?v.createElement("option",{value:"",disabled:!0},t.installments.loading):null===n?v.createElement("option",{value:"",disabled:!0},t.installments.complete_form):Object.keys(n).map(function(t){return v.createElement("option",{key:t,value:t,dangerouslySetInnerHTML:{__html:n[t].text}})});return v.createElement("select",{value:r,onChange:o,className:a()("wc-stripe-installment__options",{loading:i})},t)},e=r(703),x=(r(87),(0,e.getSetting)("stripeGeneralData"),r(87)),_=function(t){var t=t.text;return x.createElement("div",{className:"wc-stripe-mandate--container"},x.createElement("p",{className:"wc-stripe-mandate-container--text"},t))}},214:(t,e,r)=>{r.d(e,{i:()=>a});var n=r(87),o=/^(248|38|666)$/.test(r.j)?["title","icons","paymentMethod"]:null,a=function(t){var e=t.title,r=t.icons,a=t.paymentMethod,t=((t,e)=>{if(null==t)return{};var r,n,o=((t,e)=>{if(null==t)return{};var r={},n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0<=e.indexOf(n))continue;r[n]=t[n]}return r})(t,e);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(t),n=0;n<a.length;n++)r=a[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r]);return o})(t,o).components,c=t.PaymentMethodLabel,t=t.PaymentMethodIcons;return Array.isArray(r)||(r=[r]),n.createElement("span",{className:"wc-stripe-label-container ".concat(a)},n.createElement(c,{text:e}),n.createElement(t,{icons:r,align:"left"}))}},834:(t,e,r)=>{r.d(e,{A:()=>p});var e=r(87),o=r(87);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function c(t){var t=((t,e)=>{if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=a(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(t);return"symbol"==a(t)?t:t+""}function u(t,e,r){return e=s(e),((t,e)=>{if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(t=>{if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t})(t)})(t,l()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var p=(t=>{function e(t){var t;return((t,e)=>{if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),(t=u(this,e,[t])).state={hasError:!1,msg:""},t}return((t,e)=>{if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)})(e,t),t=[{key:"getDerivedStateFromError",value:function(t){return{hasError:!0,msg:(null==t?void 0:t.message)||t}}}],i((r=e).prototype,n=[{key:"render",value:function(){return this.state.hasError?this.props.showError?o.createElement(o.Fragment,null,o.createElement("div",{className:"wc-stripe-error-message"},this.state.msg)):null:this.props.children}}]),t,i(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,t})(e.Component)},728:(t,e,r)=>{r.r(e);var n=r(87),e=r(83),a=r(954),i=r(926),c=r(87);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var t=((t,e)=>{if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=u(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(t);return"symbol"==u(t)?t:t+""}function f(t,e,r){return e=y(e),((t,e)=>{if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(t=>{if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t})(t)})(t,p()?Reflect.construct(e,r||[],y(t).constructor):e.apply(t,r))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p=function(){return!!t})()}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}let h=(t=>{function e(t){var t;return((t,e)=>{if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),(t=f(this,e,[t])).state={hasError:!1,error:null,errorInfo:null},t}return((t,e)=>{if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)})(e,t),l((t=e).prototype,n=[{key:"componentDidCatch",value:function(t,e){this.setState({hasError:!0,error:t,errorInfo:e})}},{key:"render",value:function(){return this.state.hasError?c.createElement(c.Fragment,null,this.state.error&&c.createElement("div",{className:"wc-stripe-block-error"},this.state.error.toString()),this.state.errorInfo&&c.createElement("div",{className:"wc-stripe-block-error"},this.state.errorInfo.componentStack)):this.props.children}}]),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n})(n.Component);var d=r(673),v=r(87),b=["getData","onClick","onClose","billing","shippingData","eventRegistration","emitResponse","onSubmit","activePaymentMethod"],g=["getData"],w=["cartTotals"];function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E(t,e){if(null!=t){var r,n,o=((t,e)=>{if(null==t)return{};var r={},n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0<=e.indexOf(n))continue;r[n]=t[n]}return r})(t,e);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(t),n=0;n<a.length;n++)r=a[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}}var S=(0,a.mt)("stripe_applepay_data"),r=function(t){return v.createElement(h,null,v.createElement("div",{className:"wc-stripe-apple-pay-container"},v.createElement(i.Elements,{stripe:a.eV},v.createElement(j,t))))},j=function(t){var e,r,o=t.getData,a=t.onClick,c=t.onClose,u=t.billing,l=t.shippingData,s=t.eventRegistration,f=t.emitResponse,p=t.onSubmit,y=t.activePaymentMethod,t=(E(t,b),s.onPaymentSetup),h=f.noticeContexts,g=(0,i.useStripe)(),e=(r=1,((t=>{if(Array.isArray(t))return t})(e=(0,d.Xp)())||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),1!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(e,1)||((t,e)=>{var r;if(t)return"string"==typeof t?O(t,1):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(t,1):void 0})(e,1)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})())[0]),S=(0,d.Tn)(),t=((0,d.R)({payment_method:o("name"),width:375}),(0,d.DA)({getData:o,billing:u,shippingData:l,onPaymentSetup:t,emitResponse:f,error:e,onSubmit:p,activePaymentMethod:y,exportedValues:S}).setPaymentMethod),j=((0,d.Jy)({getData:o,eventRegistration:s,emitResponse:f,activePaymentMethod:y,messageContext:h.EXPRESS_PAYMENTS}),(0,d.zc)({getData:o,onClose:c,stripe:g,billing:u,shippingData:l,setPaymentMethod:t,exportedValues:S,canPay:function(t){return null!=t&&t.applePay}}).paymentRequest),e=(0,n.useCallback)(function(t){j&&(t.preventDefault(),a(),j.show())},[j,a]);return j?v.createElement("button",{className:"apple-pay-button ".concat(o("buttonStyle")),style:{ApplePayButtonType:o("buttonType")},onClick:e}):null},x=function(t){var e=t.getData;return E(t,g),v.createElement("div",{className:"apple-pay-block-editor"},v.createElement("img",{src:e("editorIcon")}))};((0,a.Mb)()&&S("cartCheckoutEnabled")||(0,a.MC)()&&S("expressCheckoutEnabled"))&&(0,e.registerExpressPaymentMethod)({name:S("name"),canMakePayment:function(t){var e=t.cartTotals,t,e;return E(t,w),!!S("isAdmin")||(t=e.currency_code,e=e.total_price,(0,a.Lk)({country:S("countryCode"),currency:t.toLowerCase(),total:{label:S("totalLabel"),amount:parseInt(e)}},function(t){return null!=t&&t.applePay}))},content:v.createElement(r,{getData:S}),edit:v.createElement(x,{getData:S}),supports:{showSavedCards:S("showSavedCards"),showSaveOption:S("showSaveOption"),features:S("features")}})},84:(t,e,r)=>{r.r(e);var n=r(87),e=r(83),a=r(954),i=r(926),c=r(979),u=r(756),l=r(673),s=r(87);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=f(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=f(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==f(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function m(t,e){return(t=>{if(Array.isArray(t))return t})(t)||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(t,e)||((t,e)=>{var r;if(t)return"string"==typeof t?h(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0})(t,e)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var d={focus:"focused",empty:"empty",invalid:"invalid"},v=function(t){var e=t.type,t=t.src;return e?s.createElement("img",{className:"wc-stripe-card ".concat(e),src:t}):null};let b=function(t){var e=t.getData,r=t.onChange,o=t.onComplete,t=m((0,n.useState)(""),2),u=t[0],f=t[1],p=(0,n.useRef)([]),t=m((0,n.useState)(null),2),b=t[0],t=t[1],w=(0,i.useElements)(),O=e("customForm"),E=(0,a.Y_)(O),S=E.component,S=void 0===S?null:S,E=E.breakpoint,E=void 0===E?475:E,_=e("postalCodeEnabled"),k={},L=(0,n.useRef)({cardNumber:{},cardExpiry:{},cardCvc:{}}),C=(["cardNumber","cardExpiry","cardCvc"].forEach(function(t){k[t]=y(y({classes:d},e("cardOptions")),e("customFieldOptions")[t])}),(0,n.useCallback)(function(t){p.current.includes(t)||p.current.push(t)},[])),E=((0,l.L7)({name:"creditCardForm",width:E,node:b,className:"small-form"}),(0,n.useCallback)(function(t){for(var r=0,n=Object.keys(e("cards"));r<n.length;r++){var o=n[r];if(o===t)return e("cards")[o]}return""},[]));return S?s.createElement("div",{className:"wc-stripe-custom-form ".concat(O),ref:t},(0,n.cloneElement)(S,{postalCodeEnabled:_,options:k,onChange:function(t){return C(t),function(e){var e,e,i;r(e),"cardNumber"===(L.current[e.elementType]=e).elementType&&("unknown"===e.brand?f(""):f(e.brand)),e.complete&&(e=p.current.indexOf(t),p.current[e+1])&&(e=p.current[e+1],w.getElement(e).focus()),o((i=L.current,Object.keys(i).filter(function(t){return!!i[t].complete}).length===Object.keys(i).length))}},CardIcon:s.createElement(v,{type:u,src:E(u)}),i18n:e("i18n")})):s.createElement("div",{className:"wc-stripe-custom-form-error"},s.createElement("p",null,e("i18n").unsupported_form))};var g=r(87);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=w(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=w(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==w(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let S=function(t){var e=t.getData,r=t.billing,o=t.onChange,c=t.onComplete,u={card:{}},t=(0,n.useMemo)(function(){var t;return E(E({},{value:{postalCode:null==r||null==(t=r.billingAddress)?void 0:t.postcode},hidePostalCode:(0,a.Sh)("postcode"),iconStyle:"default"}),e("cardOptions"))},[r.billingAddress]);return g.createElement("div",{className:"wc-stripe-inline-form"},g.createElement(i.CardElement,{options:t,onChange:function(t){o(t),u[t.elementType]=t,c(Object.keys(u).filter(function(t){return!!u[t].complete}).length===Object.keys(u).length)}}))};var P=r(427),j=r(703),x=r(468),_=r(87),k=["options"];function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A(){return(A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e],n;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function M(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?M(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=L(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=L(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==L(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var j=(0,j.getSetting)("stripeGeneralData"),N=j.publishableKey,I,x=(0,x.cloneDeep)(j.stripeParams),B=(x.hasOwnProperty("betas")&&-1<x.betas.indexOf("link_autofill_modal_beta_1")&&delete x.betas[x.betas.indexOf("link_autofill_modal_beta_1")],(0,P.c)(N,x)),G=(0,a.mt)("stripe_cc_data"),F=G("i18n"),U=function(t){t.options;var e,r,t=((t,e)=>{if(null==t)return{};var r,n,o=((t,e)=>{if(null==t)return{};var r={},n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0<=e.indexOf(n))continue;r[n]=t[n]}return r})(t,e);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(t),n=0;n<a.length;n++)r=a[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r]);return o})(t,k),e=(t=>{if(Array.isArray(t))return t})(e=(0,n.useState)(!(r=2)))||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),2!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(e,2)||((t,e)=>{var r;if(t)return"string"==typeof t?C(t,2):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(t,2):void 0})(e,2)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})(),u=e[0],s=e[1],e=G("installmentsActive"),p=(0,i.useStripe)(),y=t.billing.billingAddress,m=t.eventRegistration,h=t.emitResponse,t=t.shouldSavePayment,v=y.email,b=y.phone,g=y.first_name,w=y.last_name,O=m.onCheckoutFail,E=h.noticeContexts,S=G("name"),P=(0,n.useCallback)(function(t){s(t.complete)},[]),y=(0,l.d0)({billingAddress:y,eventRegistration:m,emitResponse:h,shouldSavePayment:t,noticeContexts:E,name:S}),m=y.createPaymentMethod,L=y.addPaymentMethodData,t=((0,l.iy)({emitResponse:h,subscriber:O,messageContext:h.noticeContexts.PAYMENTS}),{defaultValues:{billingDetails:{name:"".concat(g," ").concat(w),email:v,phone:b}},fields:{billingDetails:{address:"never"}},wallets:{applePay:"never",googlePay:"never"}});return _.createElement(_.Fragment,null,_.createElement(i.PaymentElement,{options:t,onChange:P}),_.createElement(c.Fy,{active:e,i18n:F,paymentMethodType:"card",stripe:p,cardFormComplete:u,createPaymentMethod:m,onChange:function(t){return L({_stripe_installment_plan:t})}}))};let Y=function(t){var r,r=t.billing,n,o=t.shouldSavePayment,a=(t.cartData.extensions,r.cartTotal),r=r.currency,r=D({mode:"payment",currency:null==r||null==(r=r.code)?void 0:r.toLowerCase()},G("elementOptions"));return o&&(r.mode="subscription"),a.value<=0&&(r=D(D({},r),{},{mode:"setup"})),["payment","subscription"].includes(r.mode)&&(r.amount=a.value),_.createElement(_.Fragment,null,_.createElement(i.Elements,{stripe:B,options:r},_.createElement(U,A({},t,{options:r}))))};var q=r(87);function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(){$=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),n=new C(n||[]);return o(e,"_invoke",{value:x(t,r,n)}),e}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",y="suspendedYield",m="executing",h="completed",d={};function v(){}function b(){}function g(){}var a={},O=(l(a,i,function(){return this}),Object.getPrototypeOf),O=O&&O(O(A([]))),S=(O&&O!==r&&n.call(O,i)&&(a=O),g.prototype=v.prototype=Object.create(a));function P(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function j(t,e){function r(o,a,i,c){var o=f(t[o],t,a),l,a;if("throw"!==o.type)return(a=(l=o.arg).value)&&"object"==V(a)&&n.call(a,"__await")?e.resolve(a.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(a).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)});c(o.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function x(e,r,n){var o=p;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var c=_(c,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var c=f(e,r,n);if("normal"===c.type){if(o=n.done?h:y,c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n],n,o;return o===t?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d):"throw"===(n=f(o,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,d):(o=n.arg)?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i],o,r;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return o=-1,(r=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r}).next=r}throw new TypeError(V(e)+" is not iterable")}return o(S,"constructor",{value:b.prototype=g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var t="function"==typeof t&&t.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},P(j.prototype),l(j.prototype,c,function(){return this}),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},P(S),l(S,u,"Generator"),l(S,i,function(){return this}),l(S,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[],n;for(n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}var i=(a=a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc?null:a)?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],n,o;if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(o=n.arg,L(r)),o}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function W(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function J(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){W(a,n,o,i,c,"next",t)}function c(t){W(a,n,o,i,c,"throw",t)}i(void 0)})}}function K(t,e){return(t=>{if(Array.isArray(t))return t})(t)||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(t,e)||((t,e)=>{var r;if(t)return"string"==typeof t?H(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(t,e):void 0})(t,e)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var X=(0,a.mt)("stripe_cc_data"),j=function(t){var e=K((0,n.useState)(!1),2),r=e[0],o=e[1];if((0,n.useEffect)(function(){a.eV.catch(function(t){o(t)})},[o]),r)throw new Error(r);return X("isPaymentElement")?q.createElement(Y,t):q.createElement(i.Elements,{stripe:a.eV,options:X("elementOptions")},q.createElement(Z,t))},Z=function(t){var e=t.getData,r=t.billing,o=t.shippingData,a=t.emitResponse,u=t.eventRegistration,s=t.activePaymentMethod,t=t.shouldSavePayment,p=K((0,l.Xp)(),2),y=p[0],m=p[1],p=K((0,n.useState)(!1),2),d=p[0],p=p[1],g=u.onPaymentSetup,w=(0,i.useStripe)(),O=(0,i.useElements)(),E=(0,n.useCallback)(function(){var t=e("customFormActive")?i.CardNumberElement:i.CardElement;return{card:O.getElement(t)}},[w,O]),P=(0,l.dN)({getData:e,cartTotal:r.cartTotal,setError:m}),j=P.setupIntent,x,o=(0,l.DA)({getData:e,billing:r,shippingData:o,emitResponse:a,error:y,onPaymentSetup:g,shouldSavePayment:t,setupIntent:j,removeSetupIntent:P.removeSetupIntent,getPaymentMethodArgs:E,activePaymentMethod:s}),k=o.getCreatePaymentMethodArgs,y=o.addPaymentMethodData,g=((0,l.Jy)({getData:e,eventRegistration:u,emitResponse:a,activePaymentMethod:s,shouldSavePayment:t}),(0,n.useCallback)(J($().mark(function t(){var e,r,n;return $().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null,t.next=3,w.createPaymentMethod(k());case 3:return null!=(n=t.sent)&&null!=(e=n.paymentMethod)&&e.id&&(r=n.paymentMethod.id),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)})),[w,k])),j=e("customFormActive")?b:S;return q.createElement("div",{className:"wc-stripe-card-container"},q.createElement(j,{getData:e,billing:r,onChange:function(t){t.error?m(t.error):m(!1)},onComplete:p}),e("installmentsActive")&&q.createElement(c.Fy,{i18n:e("i18n"),paymentMethodName:e("name"),cardFormComplete:d,addPaymentMethodData:y,getPaymentMethod:g}))},Q=((0,e.registerPaymentMethod)({name:X("name"),label:q.createElement(c.in,{title:X("title"),paymentMethod:X("name"),icons:X("icons")}),ariaLabel:"Credit Cards",canMakePayment:function(){return a.eV},content:q.createElement(c.g5,{content:j,getData:X}),savedTokenComponent:q.createElement(u.A,{getData:X,confirmation_method:"manual"}),edit:q.createElement(c.g5,{content:j,getData:X}),supports:{showSavedCards:X("showSavedCards"),showSaveOption:X("showSaveOption"),features:X("features")}}),r(87)),tt,et=((0,a.Tt)({id:"bootstrap",breakpoint:475,component:Q.createElement(function(t){var e=t.CardIcon,r=t.options,n=t.onChange,t=t.i18n;return Q.createElement("div",{className:"wc-stripe-bootstrap-form"},Q.createElement("div",{className:"row"},Q.createElement("div",{className:"col-md-6 mb-3"},Q.createElement(i.CardNumberElement,{className:"md-form md-outline stripe-input",options:r.cardNumber,onChange:n(i.CardNumberElement)}),Q.createElement("label",{htmlFor:"stripe-card-number"},t.labels.number),e),Q.createElement("div",{className:"col-md-3 mb-3"},Q.createElement(i.CardExpiryElement,{className:"md-form md-outline stripe-input",options:r.cardExpiry,onChange:n(i.CardExpiryElement)}),Q.createElement("label",{htmlFor:"stripe-exp"},t.labels.exp)),Q.createElement("div",{className:"col-md-3 mb-3"},Q.createElement(i.CardCvcElement,{className:"md-form md-outline stripe-input",options:r.cardCvc,onChange:n(i.CardCvcElement)}),Q.createElement("label",{htmlFor:"stripe-cvv"},t.labels.cvv))))},null)}),r(87)),rt;(0,a.Tt)({id:"simple",component:et.createElement(function(t){var e=t.CardIcon,r=t.options,o=t.onChange,t=t.i18n;return(0,n.useEffect)(function(){},[]),et.createElement("div",{className:"wc-stripe-simple-form"},et.createElement("div",{className:"row"},et.createElement("div",{className:"field"},et.createElement("div",{className:"field-item"},et.createElement(i.CardNumberElement,{id:"stripe-card-number",className:"input empty",options:r.cardNumber,onChange:o(i.CardNumberElement)}),et.createElement("label",{htmlFor:"stripe-card-number","data-tid":""},t.labels.number),et.createElement("div",{className:"baseline"}),e))),et.createElement("div",{className:"row"},et.createElement("div",{className:"field half-width"},et.createElement("div",{className:"field-item"},et.createElement(i.CardExpiryElement,{id:"stripe-exp",className:"input empty",options:r.cardExpiry,onChange:o(i.CardExpiryElement)}),et.createElement("label",{htmlFor:"stripe-exp","data-tid":""},t.labels.exp),et.createElement("div",{className:"baseline"}))),et.createElement("div",{className:"field half-width cvc"},et.createElement("div",{className:"field-item"},et.createElement(i.CardCvcElement,{id:"stripe-cvv",className:"input empty",options:r.cardCvc,onChange:o(i.CardCvcElement)}),et.createElement("label",{htmlFor:"stripe-cvv","data-tid":""},t.labels.cvv),et.createElement("div",{className:"baseline"})))))},null),breakpoint:375})},572:(t,e,r)=>{r.r(e);var e=r(83),o=r(954),a=r(87),i=r(455),c=r.n(i),u=r(926);function l(t){return(t=>{if(Array.isArray(t))return s(t)})(t)||(t=>{if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)})(t)||((t,e)=>{var r;if(t)return"string"==typeof t?s(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0})(t)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}(0,r(703).getSetting)("stripeGeneralData");var f=function(t){var e=t.billing,r,n=t.totalPriceLabel,a,i=e.cartTotal,c=e.cartTotalItems,e=e.currency;return{countryCode:t.processingCountry,currencyCode:e.code,totalPriceStatus:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"ESTIMATED",totalPrice:(0,o.k7)(i.value,e.minorUnit).toString(),displayItems:p(c,e.minorUnit),totalPriceLabel:n}},p=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,r=[],n=["total_tax","total_shipping"];return t.forEach(function(t){(0<t.value||t.key&&n.includes(t.key))&&r.push({label:t.label,type:"LINE_ITEM",price:(0,o.k7)(t.value,e).toString()})}),r},y=function(t){var e=[];return t.forEach(function(t,r){var t=t.shipping_rates.map(function(t){var e=document.createElement("textarea"),n=(e.innerHTML=t.name,(0,o.$g)(t.price,t.currency_code));return{id:(0,o.jT)(r,t.rate_id),label:e.value,description:"".concat(n)}});e=[].concat(l(e),l(t))}),e},m=(0,o.UC)({name:function(t,e){return t.first_name=e.split(" ").slice(0,-1).join(" "),t.last_name=e.split(" ").pop(),t},countryCode:"country",address1:"address_1",address2:"address_2",locality:"city",administrativeArea:"state",postalCode:"postcode",email:"email",phoneNumber:"phone"});function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=h(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=h(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==h(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function b(){b=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var e=e&&e.prototype instanceof g?e:g,e=Object.create(e.prototype),n=new M(n||[]);return o(e,"_invoke",{value:k(t,r,n)}),e}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",y="suspendedYield",m="executing",d="completed",v={};function g(){}function w(){}function O(){}var a={},S=(l(a,i,function(){return this}),Object.getPrototypeOf),S=S&&S(S(D([]))),j=(S&&S!==r&&n.call(S,i)&&(a=S),O.prototype=g.prototype=Object.create(a));function x(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function _(t,e){function r(o,a,i,c){var o=f(t[o],t,a),l,a;if("throw"!==o.type)return(a=(l=o.arg).value)&&"object"==h(a)&&n.call(a,"__await")?e.resolve(a.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(a).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)});c(o.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function k(e,r,n){var o=p;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var c=L(c,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var c=f(e,r,n);if("normal"===c.type){if(o=n.done?d:y,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=d,n.method="throw",n.arg=c.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n],n,o;return o===t?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v):"throw"===(n=f(o,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,v):(o=n.arg)?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function D(e){if(e||""===e){var r=e[i],o,r;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return o=-1,(r=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r}).next=r}throw new TypeError(h(e)+" is not iterable")}return o(j,"constructor",{value:w.prototype=O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=l(O,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var t="function"==typeof t&&t.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,c,function(){return this}),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},x(j),l(j,u,"Generator"),l(j,i,function(){return this}),l(j,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[],n;for(n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}var i=(a=a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc?null:a)?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],n,o;if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(o=n.arg,A(r)),o}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function g(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function w(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){g(a,n,o,i,c,"next",t)}function c(t){g(a,n,o,i,c,"throw",t)}i(void 0)})}}function O(t,e){return(t=>{if(Array.isArray(t))return t})(t)||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(t,e)||E(t,e)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function E(t,e){var r;if(t)return"string"==typeof t?S(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(t,e):void 0}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var P={type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY"],allowedCardNetworks:["AMEX","DISCOVER","INTERAC","JCB","MASTERCARD","VISA"],assuranceDetailsRequired:!0}},j={apiVersion:2,apiVersionMinor:0};function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function L(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=x(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=x(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==x(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var A=r(673),M=r(87),D=["getData","setErrorMessage","billing","shippingData","canMakePayment","checkoutStatus","eventRegistration","activePaymentMethod","onClick","onClose"];function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var N=(0,o.mt)("stripeGeneralData")().publishableKey;let I=function(t){var e,r,n=t.getData,i=t.setErrorMessage,l=t.billing,s=t.shippingData,p=t.canMakePayment,h=t.checkoutStatus,d=t.eventRegistration,g=t.activePaymentMethod,x=t.onClick,k=t.onClose,t=((t,e)=>{if(null==t)return{};var r,n,o=((t,e)=>{if(null==t)return{};var r={},n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0<=e.indexOf(n))continue;r[n]=t[n]}return r})(t,e);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(t),n=0;n<a.length;n++)r=a[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r]);return o})(t,D),I={merchantId:n("merchantId"),merchantName:n("merchantName")},e=(r=2,(t=>{if(Array.isArray(t))return t})(e=(0,A.Xp)())||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),2!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(e,2)||((t,e)=>{var r;if(t)return"string"==typeof t?T(t,2):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(t,2):void 0})(e,2)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()),B=e[0],G=(e[1],(0,a.useRef)()),e=t.onSubmit,t=t.emitResponse,Y=d.onPaymentSetup,q=(0,A.Tn)(),V="long"===n("buttonStyle").buttonType?390:375,Y=(0,A.DA)({getData:n,billing:l,shippingData:s,onPaymentSetup:Y,emitResponse:t,error:B,exportedValues:q,onSubmit:e,checkoutStatus:h,activePaymentMethod:g}).setPaymentMethod,W,B=(t=>{var e=t.merchantInfo,r=t.buildPaymentRequest,n=t.billing,i=t.shippingData,l=t.canMakePayment,s=t.setErrorMessage,f=t.setPaymentMethod,p=t.exportedValues,y=t.onClick,h=t.onClose,d=t.getData,g=d().environment,t,j=(t=O((0,a.useState)(),2))[0],x=t[1],t,k=(t=O((0,a.useState)(null),2))[0],L=t[1],C=(0,a.useRef)(n),A=(0,a.useRef)(i),M=i.needsShipping,D=(0,u.useStripe)(),T=((0,a.useEffect)(function(){C.current=n,A.current=i}),(0,a.useCallback)(function(t){var e,e,n={},o=A.current.shippingAddress;null!=t&&null!=(e=t.paymentMethodData)&&null!=(e=e.info)&&e.billingAddress&&(n=t.paymentMethodData.info.billingAddress,p.billingAddress=C.current.billingAddress=m(n,{email:t.email||C.current.billingAddress.email,phoneNumber:n.phoneNumber||C.current.billingAddress.phone})),null!=t&&t.shippingAddress&&(p.shippingAddress=m(t.shippingAddress),null!=p)&&null!=(e=p.billingAddress)&&e.phone&&!o.phone&&(p.shippingAddress.phone=p.billingAddress.phone)},[])),t=(0,a.useCallback)(function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},[k]),I=(0,a.useCallback)(w(b().mark(function t(){var e,e,a;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return y(),t.prev=1,t.next=4,j.loadPaymentData(r());case 4:return e=t.sent,T(e),e=JSON.parse(e.paymentMethodData.tokenizationData.token),t.next=9,D.createPaymentMethod({type:"card",card:{token:e.id},billing_details:(0,o.C8)(C.current.billingAddress)});case 9:if((a=t.sent).error)throw new o.g8(a.error);t.next=12;break;case 12:f(a.paymentMethod.id),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),"CANCELED"===(null==t.t0?void 0:t.t0.statusCode)?h():(console.log((0,o.u1)(t.t0)),s((0,o.u1)(t.t0)));case 18:case"end":return t.stop()}},t,null,[[1,15]])})),[D,j,y,r]),R=(0,a.useCallback)(w(b().mark(function t(){var e,r;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,j&&D)return t.next=4,l;t.next=7;break;case 4:e=j.createButton(v({onClick:I},d("buttonStyle"))),"rect"===d("buttonShape")&&(null==(r=e.querySelector("button"))||null==(r=r.classList)||r.remove("new_style")),L(e);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,null,[[0,9]])})),[D,j,I]),B=(0,a.useMemo)(function(){var t={environment:g,merchantInfo:e,paymentDataCallbacks:{onPaymentAuthorized:function(){return Promise.resolve({transactionState:"SUCCESS"})}}};return M&&(t.paymentDataCallbacks.onPaymentDataChanged=function(t){var e=A.current,r=t.shippingAddress,t=t.shippingOptionData,a=(0,o.D$)(t.id),i=["default","shipping_option_unselected"].includes(t.id)?null:t.id;return new Promise(function(t,n){c()({method:"POST",url:(0,o.aM)("payment/data"),data:{address:m(r),shipping_method:i,page_id:null}}).then(function(e){e.code?t(e.data.data):t(e.data.paymentRequestUpdate)}).catch(function(e){t(e.data)}).finally(function(){var t;i&&"shipping_option_unselected"!==i&&e.setSelectedRates.apply(e,(t=>{if(Array.isArray(t))return S(t)})(t=a)||(t=>{if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)})(t)||E(t)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})())})})}),t},[M]);return(0,a.useEffect)(function(){x(new google.payments.api.PaymentsClient(B))},[B]),(0,a.useEffect)(function(){R()},[R]),{button:k,removeButton:t}})({merchantInfo:I,buildPaymentRequest:(t=>{var e=t.publishableKey,r=t.merchantInfo,n=t.billing,i=t.shippingData,t,u=(t=(0,t.getData)()).processingCountry,l=t.totalPriceLabel,s=(0,a.useRef)({shippingData:i,billing:n}),p;return(0,a.useEffect)(function(){s.current={shippingData:i,billing:n}}),(0,a.useCallback)(function(){var t=s.current,n=t.billing,t=t.shippingData,i=n.billingAddress,c=t.shippingRates,n=L(L({},{emailRequired:(0,o.Im)(i.email),merchantInfo:r,allowedPaymentMethods:[L(L({},{type:"CARD",tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"stripe","stripe:version":"2018-10-31","stripe:publishableKey":e}}}),P)],shippingAddressRequired:t.needsShipping,transactionInfo:f({billing:n,processingCountry:u,totalPriceLabel:l}),callbackIntents:["PAYMENT_AUTHORIZATION"]}),j),t;return n.allowedPaymentMethods[0].parameters.billingAddressRequired=!0,n.allowedPaymentMethods[0].parameters.billingAddressParameters={format:"FULL",phoneNumberRequired:(0,o.Sh)(t.needsShipping?"shipping-phone":"phone",i.country)&&(0,o.Im)(i.phone)},n=n.shippingAddressRequired&&(n.callbackIntents=[].concat((t=>(t=>{if(Array.isArray(t))return _(t)})(t)||(t=>{if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)})(t)||((t,e)=>{var r;if(t)return"string"==typeof t?_(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(t,e):void 0})(t)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})())(n.callbackIntents),["SHIPPING_ADDRESS","SHIPPING_OPTION"]),n.shippingOptionRequired=!0,0<(t=(t=>{var e=y(t),r=e.map(function(t){return t.id}).slice(0,1).shift();return t.forEach(function(t,e){t.shipping_rates.forEach(function(t){t.selected&&(r=(0,o.jT)(e,t.rate_id))})}),{shippingOptions:e,defaultSelectedOptionId:r}})(c)).shippingOptions.length)?L(L({},n),{},{shippingOptionParameters:t}):n},[])})({getData:n,publishableKey:N,merchantInfo:I,billing:l,shippingData:s}),billing:l,shippingData:s,eventRegistration:d,canMakePayment:p,setErrorMessage:i,onSubmit:e,setPaymentMethod:Y,exportedValues:q,onClick:x,onClose:k,getData:n}),K=B.button,H=B.removeButton;return(0,A.Jy)({getData:n,eventRegistration:d,emitResponse:t,activePaymentMethod:g}),(0,A.R)({payment_method:n("name"),width:V}),(0,a.useEffect)(function(){K&&(H(G.current),G.current.append(K))},[K]),M.createElement("div",{className:"wc-stripe-gpay-button-container",ref:G})};var i=r(249),i=r.n(i),G=r(87),F=["getData","components"],U=["getData"];function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(){return(q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e],n;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function V(t,e){if(null==t)return{};var r,n,o=((t,e)=>{if(null==t)return{};var r={},n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0<=e.indexOf(n))continue;r[n]=t[n]}return r})(t,e);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(t),n=0;n<a.length;n++)r=a[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r]);return o}function $(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function W(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=Y(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=Y(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==Y(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var i,K,r=(0,o.mt)("stripe_googlepay_data"),X=(i=new(i().payments.api.PaymentsClient)({environment:r("environment"),merchantInfo:{merchantId:r("merchantId"),merchantName:r("merchantName")}}),K=W(W({},j),{},{allowedPaymentMethods:[P]}),i.isReadyToPay(K).then(function(){return!0}).catch(function(t){return console.log(t),!1})),i=function(t){var r,r,n,i=t.getData,c=t.components,t=V(t,F),c=c.ValidationInputError,r={errorMessage:(r=(t=>{if(Array.isArray(t))return t})(r=(0,a.useState)(!(n=2)))||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),2!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(r,2)||((t,e)=>{var r;if(t)return"string"==typeof t?C(t,2):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(t,2):void 0})(r,2)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})())[0],setErrorMessage:r[1]},p=r.errorMessage,r=r.setErrorMessage;return G.createElement("div",{className:"wc-stripe-gpay-container"},G.createElement(u.Elements,{stripe:o.eV},G.createElement(I,q({getData:i,canMakePayment:X,setErrorMessage:r},t)),p&&G.createElement(c,{errorMessage:p})))},K=function(t){var e=t.getData,t=(V(t,U),e("buttonStyle").buttonType),e=e("editorIcons").long;return G.createElement("div",{className:"gpay-block-editor ".concat(t)},G.createElement("img",{src:e}))};((0,o.Mb)()&&r("cartCheckoutEnabled")||(0,o.MC)()&&r("expressCheckoutEnabled"))&&(0,e.registerExpressPaymentMethod)({name:r("name"),canMakePayment:function(){return o.eV.then(function(t){return t.error?t:X})},content:G.createElement(i,{getData:r}),edit:G.createElement(K,{getData:r}),supports:{showSavedCards:r("showSavedCards"),showSaveOption:r("showSaveOption"),features:r("features")}})},673:(t,e,r)=>{r.d(e,{Jy:()=>g,L7:()=>B,dP:()=>ut,d0:()=>J,Tn:()=>L,R:()=>G,zc:()=>I,iy:()=>h,mk:()=>Q,DA:()=>m,dN:()=>x,Xp:()=>k});var n=r(87),o=r(926),a=r(954);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(){c=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var e=e&&e.prototype instanceof g?e:g,e=Object.create(e.prototype),n=new M(n||[]);return o(e,"_invoke",{value:k(t,r,n)}),e}function y(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var m="suspendedStart",h="suspendedYield",d="executing",v="completed",b={};function g(){}function w(){}function O(){}var a={},S=(f(a,u,function(){return this}),Object.getPrototypeOf),S=S&&S(S(D([]))),j=(S&&S!==r&&n.call(S,u)&&(a=S),O.prototype=g.prototype=Object.create(a));function x(t){["next","throw","return"].forEach(function(e){f(t,e,function(t){return this._invoke(e,t)})})}function _(t,e){function r(o,a,c,u){var o=y(t[o],t,a),s,a;if("throw"!==o.type)return(a=(s=o.arg).value)&&"object"==i(a)&&n.call(a,"__await")?e.resolve(a.__await).then(function(t){r("next",t,c,u)},function(t){r("throw",t,c,u)}):e.resolve(a).then(function(t){s.value=t,c(s)},function(t){return r("throw",t,c,u)});u(o.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function k(e,r,n){var o=m;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var c=L(c,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var c=y(e,r,n);if("normal"===c.type){if(o=n.done?v:h,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=v,n.method="throw",n.arg=c.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n],n,o;return o===t?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b):"throw"===(n=y(o,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,b):(o=n.arg)?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function D(e){if(e||""===e){var r=e[u],o,r;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return o=-1,(r=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r}).next=r}throw new TypeError(i(e)+" is not iterable")}return o(j,"constructor",{value:w.prototype=O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=f(O,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var t="function"==typeof t&&t.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,f(t,s,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},x(_.prototype),f(_.prototype,l,function(){return this}),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(p(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},x(j),f(j,s,"Generator"),f(j,u,function(){return this}),f(j,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[],n;for(n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}var i=(a=a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc?null:a)?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],n,o;if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(o=n.arg,A(r)),o}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function u(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function l(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){u(a,n,o,i,c,"next",t)}function c(t){u(a,n,o,i,c,"throw",t)}i(void 0)})}}function s(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach(function(e){p(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function p(t,e,r){var n,n=((t,e)=>{if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=i(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(e);return(e="symbol"==i(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}(0,a.mt)("stripeGeneralData");var m=function(t){var t,r,i=t.getData,u,s,m=t.onPaymentSetup,h=t.emitResponse,d=t.error,v=t.onSubmit,b=t.activePaymentMethod,g=t.paymentType,w=void 0===g?"card":g,g=t.setupIntent,E=void 0===g?null:g,g=t.removeSetupIntent,P=void 0===g?null:g,g=t.shouldSavePayment,x=void 0!==g&&g,g=t.exportedValues,k=void 0===g?{}:g,g=t.getPaymentMethodArgs,C=void 0===g?function(){return{}}:g,A=t.billing.billingAddress,g=t.shippingData.shippingAddress,t=(r=2,(t=>{if(Array.isArray(t))return t})(t=(0,n.useState)(null))||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),2!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(t,2)||((t,e)=>{var r;if(t)return"string"==typeof t?y(t,2):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,2):void 0})(t,2)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()),T=t[0],N=t[1],I=(0,o.useStripe)(),R=(0,n.useRef)(C),B=(0,n.useRef)({}),t=((0,n.useEffect)(function(){R.current=C},[C]),(0,n.useCallback)(function(t){B.current=f(f({},B.current),t)},[])),F=(0,n.useCallback)(function(){return f(f({},{type:w,billing_details:(0,a.C8)(null!=k&&k.billingAddress?k.billingAddress:A)}),R.current())},[A,w,C]),U=(0,n.useCallback)(function(t,e){var t={meta:{paymentMethodData:f(p(p({},"".concat(i("name"),"_token_key"),t),"".concat(i("name"),"_save_source_key"),e),B.current)}};return null!=k&&k.billingAddress&&(t.meta.billingAddress=f(f({},a.jH),k.billingAddress)),null!=k&&k.shippingAddress&&(t.meta.shippingAddress=f(f({},a.os),k.shippingAddress)),t},[A,g]);return(0,n.useEffect)(function(){T&&"string"==typeof T&&v()},[T,v]),(0,n.useEffect)(function(){var t=m(l(c().mark(function t(){var e,r;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(b!==i("name"))return t.abrupt("return",null);t.next=2;break;case 2:if(r=e=null,t.prev=3,d)throw new a.g8(d);t.next=6;break;case 6:if(E)return t.next=9,I.confirmCardSetup(E.client_secret,{payment_method:F()});t.next=16;break;case 9:if((e=t.sent).error)throw new a.g8(e.error);t.next=12;break;case 12:r=e.setupIntent.payment_method,P(),t.next=26;break;case 16:T?(r=T,t.next=26):t.next=20;break;case 20:return t.next=22,I.createPaymentMethod(F());case 22:if((e=t.sent).error)throw new a.g8(e.error);t.next=25;break;case 25:r=e.paymentMethod.id;case 26:return t.abrupt("return",(0,a.Zw)(h.responseTypes,U(r,x)));case 29:return t.prev=29,t.t0=t.catch(3),console.log(t.t0),N(null),t.abrupt("return",(0,a.A7)(h.responseTypes,t.t0.error,{messageContext:h.noticeContexts.PAYMENTS}));case 34:case"end":return t.stop()}},t,null,[[3,29]])})));return function(){return t()}},[T,A,m,I,E,b,x]),{setPaymentMethod:N,getCreatePaymentMethodArgs:F,addPaymentMethodData:t}},h=function(t){var e=t.emitResponse,r=t.subscriber,t=t.messageContext,a=void 0===t?null:t;(0,n.useEffect)(function(){var t=r(function(t){var r;return null!=t&&null!=(r=t.processingResponse.paymentDetails)&&r.stripeErrorMessage?{type:e.responseTypes.ERROR,message:t.processingResponse.paymentDetails.stripeErrorMessage,messageContext:a||e.noticeContexts.PAYMENTS}:null});return function(){return t()}},[r,a,e.responseTypes.ERROR,e.noticeContexts.PAYMENTS])};function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(){v=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var e=e&&e.prototype instanceof g?e:g,e=Object.create(e.prototype),n=new M(n||[]);return o(e,"_invoke",{value:k(t,r,n)}),e}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",y="suspendedYield",m="executing",h="completed",b={};function g(){}function w(){}function O(){}var a={},S=(l(a,i,function(){return this}),Object.getPrototypeOf),S=S&&S(S(D([]))),j=(S&&S!==r&&n.call(S,i)&&(a=S),O.prototype=g.prototype=Object.create(a));function x(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function _(t,e){function r(o,a,i,c){var o=f(t[o],t,a),l,a;if("throw"!==o.type)return(a=(l=o.arg).value)&&"object"==d(a)&&n.call(a,"__await")?e.resolve(a.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(a).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)});c(o.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function k(e,r,n){var o=p;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var c=L(c,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var c=f(e,r,n);if("normal"===c.type){if(o=n.done?h:y,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n],n,o;return o===t?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b):"throw"===(n=f(o,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,b):(o=n.arg)?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function D(e){if(e||""===e){var r=e[i],o,r;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return o=-1,(r=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r}).next=r}throw new TypeError(d(e)+" is not iterable")}return o(j,"constructor",{value:w.prototype=O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=l(O,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var t="function"==typeof t&&t.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,c,function(){return this}),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},x(j),l(j,u,"Generator"),l(j,i,function(){return this}),l(j,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[],n;for(n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}var i=(a=a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc?null:a)?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],n,o;if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(o=n.arg,A(r)),o}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function b(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var g=function(t){var e=t.getData,r=t.eventRegistration,i=t.emitResponse,c=t.activePaymentMethod,u=t.shouldSavePayment,l=void 0!==u&&u,u=t.messageContext,t=void 0===u?null:u,u=(0,o.useStripe)(),y=r.onCheckoutSuccess,r=r.onCheckoutFail;h({emitResponse:i,subscriber:r,messageContext:t}),(0,n.useEffect)(function(){var t=y((()=>{var t,r=(t=v().mark(function t(r){var n;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.redirectUrl,e("name")===c)return t.next=4,(0,a.J3)({redirectUrl:n,emitResponse:i,name:c,savePaymentMethod:l});t.next=5;break;case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){b(a,n,o,i,c,"next",t)}function c(t){b(a,n,o,i,c,"throw",t)}i(void 0)})});return function(t){return r.apply(this,arguments)}})());return function(){return t()}},[u,y,c,l])},e=r(455),O=r.n(e);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(){S=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),n=new M(n||[]);return o(e,"_invoke",{value:k(t,r,n)}),e}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",y="suspendedYield",m="executing",h="completed",d={};function v(){}function b(){}function g(){}var a={},O=(l(a,i,function(){return this}),Object.getPrototypeOf),O=O&&O(O(D([]))),j=(O&&O!==r&&n.call(O,i)&&(a=O),g.prototype=v.prototype=Object.create(a));function x(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function _(t,e){function r(o,a,i,c){var o=f(t[o],t,a),l,a;if("throw"!==o.type)return(a=(l=o.arg).value)&&"object"==E(a)&&n.call(a,"__await")?e.resolve(a.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(a).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)});c(o.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function k(e,r,n){var o=p;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var c=L(c,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var c=f(e,r,n);if("normal"===c.type){if(o=n.done?h:y,c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n],n,o;return o===t?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d):"throw"===(n=f(o,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,d):(o=n.arg)?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function D(e){if(e||""===e){var r=e[i],o,r;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return o=-1,(r=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r}).next=r}throw new TypeError(E(e)+" is not iterable")}return o(j,"constructor",{value:b.prototype=g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var t="function"==typeof t&&t.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,c,function(){return this}),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},x(j),l(j,u,"Generator"),l(j,i,function(){return this}),l(j,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[],n;for(n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}var i=(a=a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc?null:a)?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],n,o;if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(o=n.arg,A(r)),o}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function P(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var x=function(t){var t,r,o=t.cartTotal,i=t.setError,t=(r=2,(t=>{if(Array.isArray(t))return t})(t=(0,n.useState)((0,a.pf)("setupIntent")))||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),2!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(t,2)||((t,e)=>{var r;if(t)return"string"==typeof t?j(t,2):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(t,2):void 0})(t,2)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()),u=t[0],l=t[1],t=((0,n.useEffect)(function(){var t=(()=>{var t,e=(t=S().mark(function t(){var e;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u)return t.abrupt("return");t.next=2;break;case 2:return t.next=4,O()({url:(0,a.aM)("create/setup_intent"),method:"POST"});case 4:(e=t.sent).code?i(e.message):((0,a.NQ)("setupIntent",e.intent),l(e.intent));case 6:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){P(a,n,o,i,c,"next",t)}function c(t){P(a,n,o,i,c,"throw",t)}i(void 0)})});return function(){return e.apply(this,arguments)}})();(0,a.Jq)()||(0,a.bO)()&&0==o.value?u||t():l(null)},[o.value]),(0,n.useCallback)(function(){(0,a.is)("setupIntent")},[o.value]));return{setupIntent:u,removeSetupIntent:t}};function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var k=function(){var t,e,t=(t=>{if(Array.isArray(t))return t})(t=(0,n.useState)(!(e=2)))||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),2!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(t,2)||((t,e)=>{var r;if(t)return"string"==typeof t?_(t,2):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(t,2):void 0})(t,2)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})();return[t[0],t[1]]},L=function(){return(0,n.useRef)({}).current};function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function M(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=C(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=C(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==C(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function D(t,e){var r;if(t)return"string"==typeof t?T(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(t,e):void 0}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r(923);var N=(0,a.UC)(),I=function(t){var t,r,o=t.getData,i=t.onClose,c=t.stripe,u=t.billing,l=t.shippingData,s=t.setPaymentMethod,f=t.exportedValues,p=t.canPay,y=l.needsShipping,m=l.shippingRates,h=u.cartTotalItems,d=u.currency,v=u.cartTotal,t=(r=2,(t=>{if(Array.isArray(t))return t})(t=(0,n.useState)(null))||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),2!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(t,2)||D(t,2)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()),g=t[0],w=t[1],E=(0,n.useRef)({}),S=(0,n.useRef)(l),P=(0,n.useRef)(u),j=((0,n.useEffect)(function(){S.current=l,P.current=u},[l,u]),(0,n.useEffect)(function(){var t,e;c&&((t={country:o("countryCode"),currency:null==d?void 0:d.code.toLowerCase(),total:{amount:v.value,label:v.label,pending:y},requestPayerName:!0,requestPayerEmail:!0,requestPayerPhone:(0,a.Sh)(y?"shipping-phone":"phone"),requestShipping:y,displayItems:(0,a.VM)(h,d)}).requestShipping&&(t.shippingOptions=(0,a.NM)(m)),E.current=t,(e=c.paymentRequest(E.current)).canMakePayment().then(function(t){p(t)?w(e):w(null)}))},[c,v.value,y,m,h,d.code]),(0,n.useCallback)(function(t){var e=S.current,r=t.shippingAddress,n=N(r);O()({method:"POST",url:(0,a.aM)("shipping-address"),data:{address:n,payment_method:o("name"),page_id:"checkout"}}).then(function(r){t.updateWith(r.data.newData),e.setShippingAddress(M(M({},e.shippingAddress),n))}).catch(function(t){console.log(t)})},[])),x=(0,n.useCallback)(function(t){var e=t.shippingOption,r=S.current;O()({method:"POST",url:(0,a.aM)("shipping-method"),data:{shipping_method:e.id,payment_method:o("name"),page_id:null}}).then(function(n){t.updateWith(n.data.newData),r.setSelectedRates.apply(r,(t=>(t=>{if(Array.isArray(t))return T(t)})(t)||(t=>{if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)})(t)||D(t)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})())((0,a.D$)(e.id)))}).catch(function(t){console.log(t)})},[]),_=(0,n.useCallback)(function(t){var e=S.current.shippingAddress,r=P.current,n=t.paymentMethod,o=t.payerName,o=void 0===o?null:o,i=t.payerEmail,i=void 0===i?null:i,u=t.payerPhone,u=void 0===u?null:u;null!=n&&n.billing_details.address&&(f.billingAddress=M(M({},r.billingAddress),N(n.billing_details.address,{payerName:o})),!f.billingAddress.email&&i&&(f.billingAddress.email=i),!f.billingAddress.phone)&&u&&(f.billingAddress.phone=u),t.shippingAddress&&(f.shippingAddress=M(M({},e),N(t.shippingAddress)),!f.shippingAddress.phone)&&u&&(f.shippingAddress.phone=u),s(n.id),t.complete("success")},[]);return(0,n.useEffect)(function(){g&&(E.current.requestShipping&&(g.on("shippingaddresschange",j),g.on("shippingoptionchange",x)),g.on("cancel",i),g.on("paymentmethod",_))},[i,g,j,_]),{paymentRequest:g}};function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var B=function(t){var t,r,o=t.name,i=t.width,c=t.node,u=t.className,t=(r=2,(t=>{if(Array.isArray(t))return t})(t=(0,n.useState)(window.innerWidth))||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),2!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(t,2)||((t,e)=>{var r;if(t)return"string"==typeof t?R(t,2):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(t,2):void 0})(t,2)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()),s=t[0],f=t[1],p=(0,n.useCallback)(function(t){var t=(0,a.pf)(t);return t?parseInt(t):0},[]),y=(0,n.useCallback)(function(t,e){return(0,a.NQ)(t,e)},[]);(0,n.useEffect)(function(){var t="function"==typeof c?c():c,e;t&&((!(e=p(o))||e<i)&&y(o,i),t.clientWidth<i?t.classList.add(u):t.clientWidth>e&&t.classList.remove(u))},[s,c]),(0,n.useEffect)(function(){var t=function(){return f(window.innerWidth)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}})},G=function(t){var e=t.payment_method,t=t.width,o=(0,n.useCallback)(function(){var t=document.getElementById("express-payment-method-".concat(e));return t?t.parentNode:null},[]);B({name:"expressMaxWidth",width:t,node:o,className:"wc-stripe-express__sm"})};function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(){U=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),n=new C(n||[]);return o(e,"_invoke",{value:x(t,r,n)}),e}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",y="suspendedYield",m="executing",h="completed",d={};function v(){}function b(){}function g(){}var a={},O=(l(a,i,function(){return this}),Object.getPrototypeOf),O=O&&O(O(A([]))),S=(O&&O!==r&&n.call(O,i)&&(a=O),g.prototype=v.prototype=Object.create(a));function P(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function j(t,e){function r(o,a,i,c){var o=f(t[o],t,a),l,a;if("throw"!==o.type)return(a=(l=o.arg).value)&&"object"==F(a)&&n.call(a,"__await")?e.resolve(a.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(a).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)});c(o.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function x(e,r,n){var o=p;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var c=_(c,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var c=f(e,r,n);if("normal"===c.type){if(o=n.done?h:y,c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n],n,o;return o===t?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d):"throw"===(n=f(o,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,d):(o=n.arg)?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i],o,r;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return o=-1,(r=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r}).next=r}throw new TypeError(F(e)+" is not iterable")}return o(S,"constructor",{value:b.prototype=g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var t="function"==typeof t&&t.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},P(j.prototype),l(j.prototype,c,function(){return this}),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},P(S),l(S,u,"Generator"),l(S,i,function(){return this}),l(S,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[],n;for(n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}var i=(a=a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc?null:a)?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],n,o;if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(o=n.arg,L(r)),o}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function Y(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function q(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){Y(a,n,o,i,c,"next",t)}function c(t){Y(a,n,o,i,c,"throw",t)}i(void 0)})}}function V(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(Object(r),!0).forEach(function(e){W(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function W(t,e,r){var n,n=((t,e)=>{if("object"!=F(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=F(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(e);return(e="symbol"==F(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var J=function(t){var e=t.billingAddress,r=t.eventRegistration,i=t.emitResponse,c=t.name,u=t.shouldSavePayment,l=t.noticeContexts,s=r.onPaymentSetup,f=r.onCheckoutSuccess,p=(0,n.useRef)({billingAddress:e}),y=(0,n.useRef)({}),m=(0,o.useStripe)(),h=(0,o.useElements)(),d=(0,n.useCallback)(function(t,e){return{meta:{paymentMethodData:$(W(W({},"".concat(c,"_token_key"),t),"".concat(c,"_save_source_key"),e),y.current)}}},[]),t=(0,n.useCallback)(function(t){y.current=$($({},y.current),t)},[]),b=(0,n.useCallback)(q(U().mark(function t(){var e,r;return U().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=p.current.billingAddress,t.next=3,h.submit();case 3:return t.next=5,m.createPaymentMethod({elements:h,params:{billing_details:$({phone:"",email:""},(0,a.C8)(e))}});case 5:if((r=t.sent).error)return t.abrupt("return",r);t.next=8;break;case 8:return t.abrupt("return",r.paymentMethod);case 9:case"end":return t.stop()}},t)})),[m,h]);return(0,n.useEffect)(function(){p.current.billingAddress=e}),(0,n.useEffect)(function(){var t=s(q(U().mark(function t(){var e,r;return U().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b();case 3:if((e=t.sent).error)throw new a.g8(e.error);t.next=6;break;case 6:return r=e.id,p.current.paymentMethod=r,t.abrupt("return",(0,a.Zw)(i.responseTypes,d(r,u)));case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",(0,a.A7)(i.responseTypes,t.t0,{messageContext:l.PAYMENTS}));case 14:case"end":return t.stop()}},t,null,[[0,11]])})));return function(){return t()}},[s,b,u]),(0,n.useEffect)(function(){var t=f((()=>{var t=q(U().mark(function t(e){var r;return U().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.redirectUrl,t.next=3,(0,a.J3)({redirectUrl:r,emitResponse:i,name:c,savePaymentMethod:u,data:W({},"".concat(c,"_token_key"),p.current.paymentMethod)});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}})());return function(){return t()}},[f,u,c]),{createPaymentMethod:b,addPaymentMethodData:t}};function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(){H=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),n=new C(n||[]);return o(e,"_invoke",{value:x(t,r,n)}),e}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",y="suspendedYield",m="executing",h="completed",d={};function v(){}function b(){}function g(){}var a={},O=(l(a,i,function(){return this}),Object.getPrototypeOf),O=O&&O(O(A([]))),S=(O&&O!==r&&n.call(O,i)&&(a=O),g.prototype=v.prototype=Object.create(a));function P(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function j(t,e){function r(o,a,i,c){var o=f(t[o],t,a),l,a;if("throw"!==o.type)return(a=(l=o.arg).value)&&"object"==K(a)&&n.call(a,"__await")?e.resolve(a.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(a).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)});c(o.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function x(e,r,n){var o=p;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var c=_(c,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var c=f(e,r,n);if("normal"===c.type){if(o=n.done?h:y,c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n],n,o;return o===t?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d):"throw"===(n=f(o,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,d):(o=n.arg)?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i],o,r;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return o=-1,(r=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r}).next=r}throw new TypeError(K(e)+" is not iterable")}return o(S,"constructor",{value:b.prototype=g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var t="function"==typeof t&&t.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},P(j.prototype),l(j.prototype,c,function(){return this}),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},P(S),l(S,u,"Generator"),l(S,i,function(){return this}),l(S,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[],n;for(n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}var i=(a=a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc?null:a)?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],n,o;if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(o=n.arg,L(r)),o}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function X(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function z(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=K(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=K(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==K(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Q=function(t){var e=t.name,r=t.emitResponse,i=t.billingAddress,c=t.onCheckoutSuccess,u=t.activePaymentMethod,l=(0,n.useRef)({emitResponse:r,billingAddress:i}),s=(0,o.useStripe)(),f=(0,o.useElements)();(0,n.useEffect)(function(){l.current=Z(Z({},l.current),{},{billingAddress:i,emitResponse:r})},[r,i]),(0,n.useEffect)(function(){var t;return c((()=>{var t,r=(t=H().mark(function t(r){var n,n,i,c,i;return H().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.redirectUrl,u!==e);else{if(n=(0,a.LI)(n))return i=l.current,c=i.billingAddress,i=i.emitResponse,t.next=6,(0,a.aC)({args:n,stripe:s,elements:f,emitResponse:i,billingAddress:c})}t.next=7;break;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){X(a,n,o,i,c,"next",t)}function c(t){X(a,n,o,i,c,"throw",t)}i(void 0)})});return function(t){return r.apply(this,arguments)}})())},[s,f,c,u])};function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(){et=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),n=new C(n||[]);return o(e,"_invoke",{value:x(t,r,n)}),e}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",y="suspendedYield",m="executing",h="completed",d={};function v(){}function b(){}function g(){}var a={},O=(l(a,i,function(){return this}),Object.getPrototypeOf),O=O&&O(O(A([]))),S=(O&&O!==r&&n.call(O,i)&&(a=O),g.prototype=v.prototype=Object.create(a));function P(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function j(t,e){function r(o,a,i,c){var o=f(t[o],t,a),l,a;if("throw"!==o.type)return(a=(l=o.arg).value)&&"object"==tt(a)&&n.call(a,"__await")?e.resolve(a.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(a).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)});c(o.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function x(e,r,n){var o=p;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var c=_(c,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var c=f(e,r,n);if("normal"===c.type){if(o=n.done?h:y,c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n],n,o;return o===t?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d):"throw"===(n=f(o,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,d):(o=n.arg)?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i],o,r;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return o=-1,(r=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r}).next=r}throw new TypeError(tt(e)+" is not iterable")}return o(S,"constructor",{value:b.prototype=g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var t="function"==typeof t&&t.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},P(j.prototype),l(j.prototype,c,function(){return this}),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},P(S),l(S,u,"Generator"),l(S,i,function(){return this}),l(S,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[],n;for(n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}var i=(a=a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc?null:a)?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],n,o;if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(o=n.arg,L(r)),o}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function rt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function nt(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){rt(a,n,o,i,c,"next",t)}function c(t){rt(a,n,o,i,c,"throw",t)}i(void 0)})}}function ot(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function at(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(r),!0).forEach(function(e){it(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function it(t,e,r){var n,n=((t,e)=>{if("object"!=tt(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=tt(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(e);return(e="symbol"==tt(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ut=function(t){var t,r,i=t.name,c=t.emitResponse,u=t.billingAddress,l=t.eventRegistration,s=t.shouldSavePayment,t=t.shouldCreatePaymentMethod,p=void 0===t||t,t=(r=2,(t=>{if(Array.isArray(t))return t})(t=(0,n.useState)(""))||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),2!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(t,2)||((t,e)=>{var r;if(t)return"string"==typeof t?ct(t,2):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ct(t,2):void 0})(t,2)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()),m=t[0],t=t[1],d=l.onPaymentSetup,v=l.onCheckoutSuccess,b=(0,o.useStripe)(),g=(0,o.useElements)(),w=(0,n.useRef)({billingAddress:u,paymentMethodData:{}}),l=(0,n.useCallback)(function(t,e){w.current.paymentMethodData=at(at({},w.current.paymentMethodData),{},it({},t,e))},[]),E=(0,n.useCallback)(nt(et().mark(function t(){var e,r;return et().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=w.current.billingAddress,t.prev=1,t.next=4,g.submit();case 4:if((r=t.sent).error)throw r.error;t.next=7;break;case 7:if(p)return t.next=10,b.createPaymentMethod({elements:g,params:{billing_details:at({phone:"",email:""},(0,a.C8)(e))}});t.next=14;break;case 10:if((r=t.sent).error)throw r.error;t.next=13;break;case 13:return t.abrupt("return",r.paymentMethod);case 14:return t.abrupt("return",{});case 17:throw t.prev=17,t.t0=t.catch(1),t.t0;case 20:case"end":return t.stop()}},t,null,[[1,17]])})),[b,g,p]);return(0,n.useEffect)(function(){w.current=at(at({},w.current),{},{billingAddress:u,paymentMethodType:m})},[u,m]),(0,n.useEffect)(function(){var t;return d(nt(et().mark(function t(){var e,r;return et().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=w.current.paymentMethodType,t.prev=1,t.next=4,E();case 4:return r=t.sent,t.abrupt("return",(0,a.Zw)(c.responseTypes,{meta:{paymentMethodData:at(it(it(it({},"".concat(i,"_token_key"),r.id),"".concat(i,"_save_source_key"),s),"_stripe_payment_method_type",e),w.current.paymentMethodData)}}));case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",(0,a.A7)(c.responseTypes,t.t0,{messageContext:c.noticeContexts.PAYMENTS}));case 11:case"end":return t.stop()}},t,null,[[1,8]])})))},[b,g,d,s,E]),(0,n.useEffect)(function(){return v(nt(et().mark(function t(){return et().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)})))},[v]),{paymentMethodType:m,createPaymentMethod:E,setPaymentMethodType:t,addPaymentMethodData:l}}},654:(t,e,r)=>{r.r(e);var e=r(0),o=JSON.parse('{"apiVersion":2,"name":"wc-stripe/link-block","version":"1.0.0","title":"Stripe Link block","category":"woocommerce","description":"Adds a Stripe Link integration to the checkout block","supports":{"html":false,"align":false,"multiple":false,"reusable":false},"parent":["woocommerce/checkout-fields-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"textdomain":"woo-stripe-payment"}'),a=r(926),i=r(143),c=r(594),u=r(83),l=r(87),s=r(954);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(){p=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var e=e&&e.prototype instanceof g?e:g,e=Object.create(e.prototype),n=new M(n||[]);return o(e,"_invoke",{value:k(t,r,n)}),e}function y(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var m="suspendedStart",h="suspendedYield",d="executing",v="completed",b={};function g(){}function w(){}function O(){}var a={},S=(l(a,i,function(){return this}),Object.getPrototypeOf),S=S&&S(S(D([]))),j=(S&&S!==r&&n.call(S,i)&&(a=S),O.prototype=g.prototype=Object.create(a));function x(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function _(t,e){function r(o,a,i,c){var o=y(t[o],t,a),l,a;if("throw"!==o.type)return(a=(l=o.arg).value)&&"object"==f(a)&&n.call(a,"__await")?e.resolve(a.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(a).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)});c(o.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function k(e,r,n){var o=m;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var c=L(c,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var c=y(e,r,n);if("normal"===c.type){if(o=n.done?v:h,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=v,n.method="throw",n.arg=c.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n],n,o;return o===t?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b):"throw"===(n=y(o,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,b):(o=n.arg)?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function D(e){if(e||""===e){var r=e[i],o,r;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return o=-1,(r=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r}).next=r}throw new TypeError(f(e)+" is not iterable")}return o(j,"constructor",{value:w.prototype=O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=l(O,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var t="function"==typeof t&&t.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,c,function(){return this}),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},x(j),l(j,u,"Generator"),l(j,i,function(){return this}),l(j,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[],n;for(n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}var i=(a=a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc?null:a)?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],n,o;if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(o=n.arg,A(r)),o}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function y(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=f(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=f(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==f(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function h(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var v=(0,s.UC)(),b=(0,s.mt)("stripe_link_checkout_data"),g=function(t){var t,r,n=t.email,t=(r=2,(t=>{if(Array.isArray(t))return t})(t=(0,l.useState)())||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),2!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(t,2)||((t,e)=>{var r;if(t)return"string"==typeof t?d(t,2):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,2):void 0})(t,2)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()),u=t[0],f=t[1],y=(0,a.useStripe)(),g=(0,a.useElements)(),w=(0,l.useRef)({email:n,oldEmail:n,isProcessing:!1}),O=b("launchLink"),t=(0,i.useDispatch)(c.PAYMENT_STORE_KEY),S=t.__internalSetActivePaymentMethod,P=t.__internalSetPaymentMethodData,j=t.__internalSetExpressPaymentError,x=t.__internalSetExpressPaymentStarted,_=(0,i.useDispatch)(c.CHECKOUT_STORE_KEY).__internalSetBeforeProcessing,t=(0,i.useDispatch)(c.CART_STORE_KEY),L=t.setBillingAddress,C=t.setShippingAddress,A=(0,i.useSelect)(function(t){return{isProcessing:t(c.PAYMENT_STORE_KEY).isPaymentProcessing()}});(0,l.useEffect)(function(){y&&g&&!u&&f(y.linkAutofillModal(g))},[y,g,u]),(0,l.useEffect)(function(){var t;u&&O&&(t=w.current.email,u.launch({email:t}))},[u]),(0,l.useEffect)(function(){var t=w.current,e=t.oldEmail,r,t=t.isProcessing;u&&(void 0===e?"":e)!==n&&(void 0===t||!t)&&(u.launch({email:n}),w.current.oldEmail=n)},[u,n]),(0,l.useEffect)(function(){w.current.email=n,w.current.isProcessing=A.isProcessing},[n,A.isProcessing]),(0,l.useEffect)(function(){var t,e;u&&(u.on("autofill",(t=p().mark(function t(e){var r,n,n,r,r,c;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return w.current.event=e,r=e.value,n=r.billingAddress,n=void 0===n?null:n,r=void 0===(r=r.shippingAddress)?null:r,t.prev=2,t.next=5,g.submit();case 5:return t.next=7,y.createPaymentMethod({elements:g,params:{billing_details:n}});case 7:if((c=t.sent).error)throw c.error;t.next=10;break;case 10:n&&L(m(m(m({},s.jH),v(m(m({},n.address),{},{recipient:n.name}))),{},{email:w.current.email})),r&&C(m(m({},s.os),v(m(m({},r.address),{},{recipient:r.name})))),P({stripe_cc_token_key:c.paymentMethod.id,stripe_cc_save_source_key:!1}),_(),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(2),console.log(t.t0),j(t.t0.message);case 20:case"end":return t.stop()}},t,null,[[2,16]])}),e=function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){h(a,n,o,i,c,"next",t)}function c(t){h(a,n,o,i,c,"throw",t)}i(void 0)})},function(t){return e.apply(this,arguments)})),u.on("authenticated",function(t){x(),S(b("name"))}))},[u,y,g,_,L,C,P,S,j,x])};function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E(n.key),n)}}function E(t){var t=((t,e)=>{if("object"!=w(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=w(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(t);return"symbol"==w(t)?t:t+""}function S(t,e,r){return e=j(e),((t,e)=>{if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(t=>{if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t})(t)})(t,P()?Reflect.construct(e,r||[],j(t).constructor):e.apply(t,r))}function P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(P=function(){return!!t})()}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}let _=(t=>{function e(t){var t;return((t,e)=>{if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),(t=S(this,e,[t])).state={hasError:!1},t}return((t,e)=>{if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)})(e,t),t=[{key:"getDerivedStateFromError",value:function(t){return{hasError:!0}}}],O((r=e).prototype,n=[{key:"render",value:function(){return this.state.hasError?null:this.props.children}}]),t,O(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,t})(l.Component);var k=r(87),L=(0,s.mt)("stripe_link_checkout_data"),C=function(t){var t=t.cart.billingAddress.email,r=L("linkIcon");return L("popupEnabled")&&g({email:t}),(t=>{var e=t.enabled,r=t.icon;(0,l.useEffect)(function(){var t,n;e&&(t=document.getElementById("email"))&&!t.classList.contains("stripe-link-icon-container")&&((t=>{var t;(t=document.querySelector(t))&&t.remove()})(".wc-stripe-link-icon"),t.classList.add("stripe-link-icon-container"),(n=document.createElement("template")).innerHTML=r,t.parentElement.append(n.content.firstChild))})})({enabled:r,icon:r}),k.createElement("div",{style:{display:"none"}},k.createElement(a.PaymentElement,{options:{fields:{billingDetails:{address:"never"}},wallets:{applePay:"never",googlePay:"never"}}}))};(0,u.registerExpressPaymentMethod)({name:L("name"),canMakePayment:function(t){return!1},content:k.createElement(C,null),edit:k.createElement(C,null),supports:{showSavedCards:L("showSavedCards"),showSaveOption:L("showSaveOption"),features:L("features")}}),(0,e.registerCheckoutBlock)({metadata:o,component:function(){var t=(0,i.useSelect)(function(t){return t(c.CART_STORE_KEY).getCartData()}),e={mode:"payment",paymentMethodCreation:"manual",amount:parseInt(t.totals.total_price),currency:t.totals.currency_code.toLowerCase(),payment_method_types:["card","link"]};return 0===parseInt(t.totals.total_price)&&(e={mode:"setup",currency:t.totals.currency_code.toLowerCase()}),k.createElement(_,null,k.createElement(a.Elements,{stripe:s.eV,options:e},k.createElement(C,{cart:t})))}})},804:(t,e,r)=>{r.r(e);var n=r(87),e=r(83),a=r(954),i=r(926),c=r(0),u=r(703),l=r(673),s=r(979),f=r(87);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var y=["billingAddress","cartTotals"];function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=p(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=p(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==p(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var v=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return function(r){var n=r.billingAddress,o=r.cartTotals,r=((t,e)=>{if(null==t)return{};var r,n,o=((t,e)=>{if(null==t)return{};var r={},n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0<=e.indexOf(n))continue;r[n]=t[n]}return r})(t,e);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(t),n=0;n<a.length;n++)r=a[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r]);return o})(r,y),c=o.currency_code,u=n.country,l=t("countries"),s=t("allowedCountries"),f=t("features"),p=!1;if(t("isAdmin"))p=!0;else{if((0,a.bO)()&&!f.includes("subscriptions"))return!1;if((0,a.Jq)()&&!f.includes("pre-orders"))return!1;t("currencies").includes(c)&&(p="all_except"===s?!t("exceptCountries").includes(u):"specific"===s?t("specificCountries").includes(u):!(0<l.length)||l.includes(u)),e&&(p=p&&e(d({settings:t,billingAddress:n,cartTotals:o},r)))}return p}},b=function(t){var n,r=t.getData,n=t.billing,o=t.cartData,c=t.mandate,c=void 0!==c&&c,l=t.mandateText,l=void 0===l?"":l,r=r("name"),o=o.extensions,h=n.cartTotal,n=n.currency,n=d({mode:"payment",currency:null==n||null==(n=n.code)?void 0:n.toLowerCase()},o[r].elementOptions);return h.value<=0&&(n.mode="setup"),["payment","subscription"].includes(n.mode)&&(n.amount=h.value),f.createElement(i.Elements,{stripe:a.eV,options:n},f.createElement(g,t),c&&f.createElement(s.YR,{text:l}))},g=function(t){var e,r,o=t.getData,a=t.billing,s=t.emitResponse,p=t.shouldSavePayment,y=t.eventRegistration,h=t.activePaymentMethod,t=t.shouldCreatePaymentMethod,t=void 0===t||t,g=o("name"),a=a.billingAddress,O=y.onCheckoutSuccess,E=y.onCheckoutFail,e=(t=>{if(Array.isArray(t))return t})(e=(0,n.useState)(!(r=2)))||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),2!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(e,2)||((t,e)=>{var r;if(t)return"string"==typeof t?m(t,2):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,2):void 0})(e,2)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})(),P=e[0],j=e[1],e=d({defaultValues:{billingDetails:{phone:a.phone,email:a.email,name:"".concat(a.first_name," ").concat(a.last_name),address:{country:a.country,state:a.state}}},fields:{billingDetails:{address:"never",name:"never",email:"never"}},wallets:{applePay:"never",googlePay:"never"}},o("paymentElementOptions")),o;return(0,l.iy)({emitResponse:s,subscriber:E,messageContext:s.noticeContexts.PAYMENTS}),(0,l.dP)({name:g,emitResponse:s,billingAddress:a,shouldSavePayment:p,eventRegistration:y,shouldCreatePaymentMethod:t}),(0,l.mk)({name:g,emitResponse:s,billingAddress:a,onCheckoutSuccess:O,activePaymentMethod:h}),P?(o=(0,u.getSetting)("stripeErrorMessages").payment_unavailable,f.createElement(c.StoreNotice,{status:"warning",isDismissible:!1},o.replace("%s",P.message))):f.createElement(i.PaymentElement,{options:e,onChange:function(t){},onLoadError:function(t){var t=t.error;j(t)}})},w=r(834),O=r(87);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var j=(0,a.mt)("stripe_klarna_data"),x=function(t){var e,e,o,c=t.title,u=t.paymentMethod,l=t.icons,t=t.components,p=t.PaymentMethodLabel,e=(0,n.useState)(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=E(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=E(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==E(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({amount:null==(e=j("cartTotals"))?void 0:e.value,currency:j("currency"),paymentMethodTypes:["klarna"]},j("messageOptions"))),e=(o=2,(t=>{if(Array.isArray(t))return t})(e=e)||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),2!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(e,2)||((t,e)=>{var r;if(t)return"string"==typeof t?P(t,2):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(t,2):void 0})(e,2)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()),h=e[0],d=e[1];return(0,n.useEffect)(function(){var t=function(t){d(t.detail.options)};return document.addEventListener("stripeKlarnaChange",t),function(){return document.removeEventListener("stripeKlarnaChange",t)}},[]),j("paymentSections").includes("checkout")?O.createElement("div",{className:"wc-stripe-label-container"},O.createElement(p,{text:c}),O.createElement("div",{className:"wc-stripe-klarna-message-container"},O.createElement(w.A,null,O.createElement(i.Elements,{stripe:a.eV,options:{locale:j("elementOptions").locale}},O.createElement(i.PaymentMethodMessagingElement,{options:h}))))):O.createElement(s.in,{paymentMethod:u,title:c,icons:l,components:t})},x=(j()&&(0,e.registerPaymentMethod)({name:j("name"),label:O.createElement(x,{title:j("title"),paymentMethod:j("name"),icons:j("icon")}),ariaLabel:"Klarna",placeOrderButtonLabel:j("placeOrderButtonLabel"),canMakePayment:v(j,function(t){var o,r=t.settings,n,o=t.cartTotals,t=t.billingAddress.country,c=o.currency_code,r=r("requiredParams"),o={amount:parseInt(o.total_price),currency:o.currency_code,countryCode:t};return document.dispatchEvent(new CustomEvent("stripeKlarnaChange",{detail:{options:o}})),(0,a.jc)({requiredParams:r,currency:c,country:t})}),content:O.createElement(s.g5,{content:b,getData:j}),edit:O.createElement(s.g5,{content:b,getData:j}),supports:{showSavedCards:!1,showSaveOption:!1,features:j("features")}}),r(87)),k=(0,a.mt)("stripe_ideal_data"),x=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"Ideal",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k}),edit:x.createElement(s.g5,{content:b,getData:k}),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(87)),k=(0,a.mt)("stripe_p24_data"),x=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"P24",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k}),edit:x.createElement(s.g5,{content:b,getData:k}),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(87)),k=(0,a.mt)("stripe_bancontact_data"),x=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"Bancontact",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k}),edit:x.createElement(s.g5,{content:b,getData:k}),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(87)),k=(0,a.mt)("stripe_giropay_data"),x=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"Giropay",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k}),edit:x.createElement(s.g5,{content:b,getData:k}),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(87)),k=(0,a.mt)("stripe_eps_data"),x=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"EPS",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k}),edit:x.createElement(s.g5,{content:b,getData:k}),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(87)),k=(0,a.mt)("stripe_multibanco_data"),x=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"MultiBanco",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k}),edit:x.createElement(s.g5,{content:b,getData:k}),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(87)),k=(0,a.mt)("stripe_sepa_data"),x=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"SEPA",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k,mandate:!k("mandate"),mandateText:k("mandateText")}),edit:x.createElement(s.g5,{content:b,getData:k,mandate:!k("mandate"),mandateText:k("mandateText")}),supports:{showSavedCards:!0,showSaveOption:!0,features:k("features")}}),r(87)),k=(0,a.mt)("stripe_sofort_data"),x=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"Sofort",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k}),edit:x.createElement(s.g5,{content:b,getData:k}),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(87)),k=(0,a.mt)("stripe_wechat_data"),x=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"WeChat",canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k,shouldCreatePaymentMethod:!1}),edit:x.createElement(s.g5,{content:b,getData:k,shouldCreatePaymentMethod:!1}),placeOrderButtonLabel:k("placeOrderButtonLabel"),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(87)),k=(0,a.mt)("stripe_fpx_data"),x=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"FPX",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k}),edit:x.createElement(s.g5,{content:b,getData:k}),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(87)),k=(0,a.mt)("stripe_becs_data"),x=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"BECS",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k}),edit:x.createElement(s.g5,{content:b,getData:k}),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(87)),k=(0,a.mt)("stripe_grabpay_data"),x=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"GrabPay",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k,confirmationMethod:"confirmGrabPayPayment"}),edit:x.createElement(s.g5,{content:b,getData:k}),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(214)),k=r(87),Q=(0,a.mt)("stripe_alipay_data"),tt=(Q()&&(0,e.registerPaymentMethod)({name:Q("name"),label:k.createElement(x.i,{title:Q("title"),paymentMethod:Q("name"),icons:Q("icon")}),ariaLabel:"Alipay",placeOrderButtonLabel:Q("placeOrderButtonLabel"),canMakePayment:v(Q),content:k.createElement(s.g5,{content:b,getData:Q}),edit:k.createElement(s.g5,{content:b,getData:Q}),supports:{showSavedCards:!1,showSaveOption:!1,features:Q("features")}}),r(87));function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var rt=["title","getData"];function nt(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ot(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=et(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=et(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==et(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function at(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var it=(0,a.mt)("stripe_afterpay_data"),x=function(t){var e,r,o=t.title,c=t.getData,t=((t,e)=>{if(null==t)return{};var r,n,o=((t,e)=>{if(null==t)return{};var r={},n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0<=e.indexOf(n))continue;r[n]=t[n]}return r})(t,e);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(t),n=0;n<a.length;n++)r=a[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r]);return o})(t,rt),l=t.components.PaymentMethodLabel,e=(r=2,(t=>{if(Array.isArray(t))return t})(e=(0,n.useState)({amount:c("cartTotal"),currency:c("currency"),isCartEligible:!0}))||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),2!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(e,2)||((t,e)=>{var r;if(t)return"string"==typeof t?at(t,2):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?at(t,2):void 0})(e,2)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()),p=e[0],y=e[1];return(0,n.useEffect)(function(){var t=function(t){return y(t.detail.options)};return document.addEventListener("stripeAfterpayChange",t),function(){return document.removeEventListener("stripeAfterpayChange",t)}},[]),c("paymentSections").includes("checkout")?tt.createElement("div",{className:"wc-stripe-label-container"},tt.createElement(l,{text:o}),tt.createElement("div",{className:"wc-stripe-afterpay-message-container"},tt.createElement(w.A,null,tt.createElement(i.Elements,{stripe:a.eV,options:{locale:c("elementOptions").locale}},tt.createElement("div",{className:"wc-stripe-blocks-afterpay__label"},tt.createElement(i.AfterpayClearpayMessageElement,{options:ot(ot({},c("checkoutMessageOptions")),p)})))))):tt.createElement(s.in,{paymentMethod:t.paymentMethod,title:o,icons:t.icons,components:t.components})},k=(it()&&(0,e.registerPaymentMethod)({name:it("name"),label:tt.createElement(x,{title:it("title"),paymentMethod:it("name"),icons:it("icon"),getData:it}),ariaLabel:it("title"),placeOrderButtonLabel:it("placeOrderButtonLabel"),canMakePayment:v(it,function(t){t.settings;var t,r=t.cartTotals,n,o=r.currency_code,a=r.currency_minor_unit,i,t=t.billingAddress.country,a=(t=>{var e=t.total,r=t.currency,n=!1,t=t.country,a=it("requiredParams"),i=it("accountCountry"),a,u,n;return(a=!!a.hasOwnProperty(r)&&a[r])&&(u=null==a?void 0:a[0],n=-1<(u=Array.isArray(u)?u:[u]).indexOf(i)&&("EUR"!==r||!t||i===t)&&e>(null==a?void 0:a[1])&&e<(null==a?void 0:a[2])),n})({total:parseInt(r.total_price)/Math.pow(10,a),currency:o,country:t}),t={amount:parseInt(r.total_price),currency:o,isCartEligible:a};return document.dispatchEvent(new CustomEvent("stripeAfterpayChange",{detail:{options:t}})),a}),content:tt.createElement(s.g5,{content:b,getData:it}),edit:tt.createElement(s.g5,{content:b,getData:it}),supports:{showSavedCards:!1,showSaveOption:!1,features:it("features")}}),r(87)),Q=(0,a.mt)("stripe_boleto_data"),x=(Q()&&(0,e.registerPaymentMethod)({name:Q("name"),label:k.createElement(s.in,{title:Q("title"),paymentMethod:Q("name"),icons:Q("icon")}),ariaLabel:"Boleto",placeOrderButtonLabel:Q("placeOrderButtonLabel"),canMakePayment:v(Q),content:k.createElement(s.g5,{content:b,getData:Q,shouldCreatePaymentMethod:!1}),edit:k.createElement(s.g5,{content:b,getData:Q,shouldCreatePaymentMethod:!1}),supports:{showSavedCards:!1,showSaveOption:!1,features:Q("features")}}),r(87)),k=(0,a.mt)("stripe_oxxo_data"),pt=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"OXXO",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k,confirmationMethod:"confirmOxxoPayment"}),edit:x.createElement(s.g5,{content:b,getData:k}),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(87));function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var mt=["title","components"];function ht(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vt=(0,a.mt)("stripe_affirm_data"),Q=function(t){var e,e,o,c=t.title,u=t.components,t=((t,e)=>{if(null==t)return{};var r,n,o=((t,e)=>{if(null==t)return{};var r={},n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0<=e.indexOf(n))continue;r[n]=t[n]}return r})(t,e);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(t),n=0;n<a.length;n++)r=a[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r]);return o})(t,mt),f=u.PaymentMethodLabel,e=(0,n.useState)(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=yt(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=yt(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==yt(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({amount:null==(e=vt("cartTotals"))?void 0:e.value,currency:vt("currency")},vt("messageOptions"))),e=(o=2,(t=>{if(Array.isArray(t))return t})(e=e)||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),2!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(e,2)||((t,e)=>{var r;if(t)return"string"==typeof t?dt(t,2):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dt(t,2):void 0})(e,2)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()),m=e[0],h=e[1];return(0,n.useEffect)(function(){var t=function(t){h(t.detail.options)};return document.addEventListener("stripeAffirmChange",t),function(){return document.removeEventListener("stripeAffirmChange",t)}},[]),vt("paymentSections").includes("checkout")?pt.createElement("div",{className:"wc-stripe-label-container"},pt.createElement(f,{text:c}),pt.createElement(w.A,null,pt.createElement("div",{className:"wc-stripe-affirm-message-container"},pt.createElement(i.Elements,{stripe:a.eV,options:{locale:vt("elementOptions").locale}},pt.createElement(i.AffirmMessageElement,{options:m}))))):pt.createElement(s.in,{paymentMethod:t.paymentMethod,title:c,icons:t.icons,components:u})},x=(vt()&&(0,e.registerPaymentMethod)({name:vt("name"),label:pt.createElement(Q,{title:vt("title"),paymentMethod:vt("name"),icons:vt("icon")}),ariaLabel:"Affirm",placeOrderButtonLabel:vt("placeOrderButtonLabel"),canMakePayment:function(t){var e,t=t.cart,n=t.cartTotals,t=t.billingAddress,a=n.currency_code,n=parseInt(n.total_price);return vt("requirements"),vt("accountCountry"),document.dispatchEvent(new CustomEvent("stripeAffirmChange",{detail:{options:e={amount:n,currency:a}}})),(t=>{var e=t.amount,r,r=void 0===(r=t.billingCountry)?null:r,t=t.currency,a=vt("requirements"),i=vt("accountCountry");return r?t in a&&i===r&&5e3<=e&&e<=3e6:t in a&&5e3<=e&&e<=3e6})({amount:n,billingCountry:t.country,currency:a})},content:pt.createElement(s.g5,{content:b,getData:vt,confirmationMethod:"confirmAffirmPayment"}),edit:pt.createElement(s.g5,{content:b,getData:vt}),supports:{showSavedCards:!1,showSaveOption:!1,features:vt("features")}}),r(87)),k=(0,a.mt)("stripe_blik_data"),Q=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"BLIK",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k,shouldCreatePaymentMethod:!1}),edit:x.createElement(s.g5,{content:b,getData:k}),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(87)),x=(0,a.mt)("stripe_konbini_data"),k=(x()&&(0,e.registerPaymentMethod)({name:x("name"),label:Q.createElement(s.in,{title:x("title"),paymentMethod:x("name"),icons:x("icon")}),ariaLabel:"Konbini",placeOrderButtonLabel:x("placeOrderButtonLabel"),canMakePayment:v(x),content:Q.createElement(s.g5,{content:b,getData:x}),edit:Q.createElement(s.g5,{content:b,getData:x}),supports:{showSavedCards:!1,showSaveOption:!1,features:x("features")}}),r(87)),Q=(0,a.mt)("stripe_paynow_data"),x=(Q()&&(0,e.registerPaymentMethod)({name:Q("name"),label:k.createElement(s.in,{title:Q("title"),paymentMethod:Q("name"),icons:Q("icon")}),ariaLabel:"PayNow",placeOrderButtonLabel:Q("placeOrderButtonLabel"),canMakePayment:v(Q),content:k.createElement(s.g5,{content:b,getData:Q}),edit:k.createElement(s.g5,{content:b,getData:Q}),supports:{showSavedCards:!1,showSaveOption:!1,features:Q("features")}}),r(87)),k=(0,a.mt)("stripe_promptpay_data"),Q=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"PromptPay",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k}),edit:x.createElement(s.g5,{content:b,getData:k}),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(87)),x=(0,a.mt)("stripe_swish_data"),k=(x()&&(0,e.registerPaymentMethod)({name:x("name"),label:Q.createElement(s.in,{title:x("title"),paymentMethod:x("name"),icons:x("icon")}),ariaLabel:"Swish",placeOrderButtonLabel:x("placeOrderButtonLabel"),canMakePayment:v(x),content:Q.createElement(s.g5,{content:b,getData:x,confirmationMethod:"confirmSwishPayment"}),edit:Q.createElement(s.g5,{content:b,getData:x}),supports:{showSavedCards:!1,showSaveOption:!1,features:x("features")}}),r(87)),Q=(0,a.mt)("stripe_amazonpay_data"),x=(Q()&&(0,e.registerPaymentMethod)({name:Q("name"),label:k.createElement(s.in,{title:Q("title"),paymentMethod:Q("name"),icons:Q("icon")}),ariaLabel:"Ideal",placeOrderButtonLabel:Q("placeOrderButtonLabel"),canMakePayment:v(Q),content:k.createElement(s.g5,{content:b,getData:Q}),edit:k.createElement(s.g5,{content:b,getData:Q}),supports:{showSavedCards:!1,showSaveOption:!1,features:Q("features")}}),r(87)),k=(0,a.mt)("stripe_cashapp_data"),Q=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"Ideal",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k}),edit:x.createElement(s.g5,{content:b,getData:k}),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(87)),x=(0,a.mt)("stripe_revolut_data"),k=(x()&&(0,e.registerPaymentMethod)({name:x("name"),label:Q.createElement(s.in,{title:x("title"),paymentMethod:x("name"),icons:x("icon")}),ariaLabel:"Ideal",placeOrderButtonLabel:x("placeOrderButtonLabel"),canMakePayment:v(x),content:Q.createElement(s.g5,{content:b,getData:x}),edit:Q.createElement(s.g5,{content:b,getData:x}),supports:{showSavedCards:!1,showSaveOption:!1,features:x("features")}}),r(87)),Q=(0,a.mt)("stripe_zip_data"),x=(Q()&&(0,e.registerPaymentMethod)({name:Q("name"),label:k.createElement(s.in,{title:Q("title"),paymentMethod:Q("name"),icons:Q("icon")}),ariaLabel:"Ideal",placeOrderButtonLabel:Q("placeOrderButtonLabel"),canMakePayment:v(Q),content:k.createElement(s.g5,{content:b,getData:Q}),edit:k.createElement(s.g5,{content:b,getData:Q}),supports:{showSavedCards:!1,showSaveOption:!1,features:Q("features")}}),r(87)),k=(0,a.mt)("stripe_mobilepay_data"),Q=(k()&&(0,e.registerPaymentMethod)({name:k("name"),label:x.createElement(s.in,{title:k("title"),paymentMethod:k("name"),icons:k("icon")}),ariaLabel:"Ideal",placeOrderButtonLabel:k("placeOrderButtonLabel"),canMakePayment:v(k),content:x.createElement(s.g5,{content:b,getData:k}),edit:x.createElement(s.g5,{content:b,getData:k}),supports:{showSavedCards:!1,showSaveOption:!1,features:k("features")}}),r(756)),x=r(87),Ut=(0,a.mt)("stripe_ach_data"),k=(Ut()&&(0,e.registerPaymentMethod)({name:Ut("name"),label:x.createElement(s.in,{title:Ut("title"),paymentMethod:Ut("name"),icons:Ut("icons")}),ariaLabel:"ACH Payment",canMakePayment:function(t){return"USD"===t.cartTotals.currency_code&&"US"===Ut("accountCountry")},content:x.createElement(s.g5,{content:b,getData:Ut,mandate:!Ut("mandate"),mandateText:Ut("mandateText")}),edit:x.createElement(s.g5,{content:b,getData:Ut,mandate:!Ut("mandate"),mandateText:Ut("mandateText")}),savedTokenComponent:x.createElement(Q.A,{getData:Ut}),placeOrderButtonLabel:Ut("placeOrderButtonLabel"),supports:{showSavedCards:Ut("showSavedCards"),showSaveOption:Ut("showSaveOption"),features:Ut("features")}}),r(87)),x=(0,a.mt)("stripe_twint_data");x()&&(0,e.registerPaymentMethod)({name:x("name"),label:k.createElement(s.in,{title:x("title"),paymentMethod:x("name"),icons:x("icon")}),ariaLabel:"Twint",placeOrderButtonLabel:x("placeOrderButtonLabel"),canMakePayment:v(x),content:k.createElement(s.g5,{content:b,getData:x}),edit:k.createElement(s.g5,{content:b,getData:x}),supports:{showSavedCards:!1,showSaveOption:!1,features:x("features")}})},629:(t,e,r)=>{r.r(e);var n=r(87),e=r(83),a=r(954),i=r(673),c=r(926),u=r(87),l=["getData","onClick","onClose","billing","shippingData","eventRegistration","emitResponse","onSubmit","activePaymentMethod"],s=["getData"];function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t,e){if(null!=t){var r,n,o=((t,e)=>{if(null==t)return{};var r={},n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0<=e.indexOf(n))continue;r[n]=t[n]}return r})(t,e);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(t),n=0;n<a.length;n++)r=a[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}}var y=(0,a.mt)("stripe_payment_request_data"),r=function(t){return u.createElement("div",{className:"wc-stripe-payment-request-container"},u.createElement(c.Elements,{stripe:a.eV},u.createElement(h,t)))},h=function(t){var e,r,o=t.getData,a=t.onClick,s=t.onClose,y=t.billing,m=t.shippingData,h=t.eventRegistration,d=t.emitResponse,v=t.onSubmit,b=t.activePaymentMethod,t=(p(t,l),h.onPaymentSetup),w=d.noticeContexts,O=(0,c.useStripe)(),e=(r=1,((t=>{if(Array.isArray(t))return t})(e=(0,i.Xp)())||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),1!==c.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(e,1)||((t,e)=>{var r;if(t)return"string"==typeof t?f(t,1):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,1):void 0})(e,1)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})())[0]),S=(0,i.Tn)(),t=((0,i.R)({payment_method:o("name"),width:375}),(0,i.DA)({getData:o,billing:y,shippingData:m,onPaymentSetup:t,emitResponse:d,error:e,onSubmit:v,activePaymentMethod:b,exportedValues:S}).setPaymentMethod),j=((0,i.Jy)({getData:o,eventRegistration:h,emitResponse:d,activePaymentMethod:b,messageContext:w.EXPRESS_PAYMENTS}),(0,i.zc)({getData:o,onClose:s,stripe:O,billing:y,shippingData:m,eventRegistration:h,setPaymentMethod:t,exportedValues:S,canPay:function(t){return null!=t&&!t.applePay&&t.googlePay}}).paymentRequest),e=(0,n.useMemo)(function(){return{paymentRequest:j,style:{paymentRequestButton:o("paymentRequestButton")}}},[j]);return j?u.createElement(c.PaymentRequestButtonElement,{options:e,onClick:a}):null},d=function(t){t.getData,p(t,s);var e=(0,n.useRef)();return(0,n.useEffect)(function(){var t=window.devicePixelRatio,r=(e.current.width=20*t,e.current.height=20*t,e.current.getContext("2d"));r.scale(t,t),r.beginPath(),r.arc(10,10,10,0,2*Math.PI),r.fillStyle="#986fff",r.fill()}),u.createElement("div",{className:"payment-request-block-editor"},u.createElement("div",{className:"icon-container"},u.createElement("span",null,"Buy now"),u.createElement("canvas",{className:"PaymentRequestButton-icon",ref:e}),u.createElement("i",{className:"payment-request-arrow"})))};((0,a.Mb)()&&y("cartCheckoutEnabled")||(0,a.MC)()&&y("expressCheckoutEnabled"))&&(0,e.registerExpressPaymentMethod)({name:y("name"),canMakePayment:function(t){var t=t.cartTotals,r=t.currency_code,t=t.total_price;return(0,a.Lk)({country:y("countryCode"),currency:r.toLowerCase(),total:{label:y("totalLabel"),amount:parseInt(t)}},function(t){return null!=t&&!t.applePay&&t.googlePay})},content:u.createElement(r,{getData:y}),edit:u.createElement(d,{getData:y}),supports:{showSavedCards:y("showSavedCards"),showSaveOption:y("showSaveOption"),features:y("features")}})},756:(t,e,r)=>{r.d(e,{A:()=>f});var n=r(87),o=r(673),a=r(954);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(){c=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var e=e&&e.prototype instanceof g?e:g,e=Object.create(e.prototype),n=new M(n||[]);return o(e,"_invoke",{value:k(t,r,n)}),e}function y(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var m="suspendedStart",h="suspendedYield",d="executing",v="completed",b={};function g(){}function w(){}function O(){}var a={},S=(f(a,u,function(){return this}),Object.getPrototypeOf),S=S&&S(S(D([]))),j=(S&&S!==r&&n.call(S,u)&&(a=S),O.prototype=g.prototype=Object.create(a));function x(t){["next","throw","return"].forEach(function(e){f(t,e,function(t){return this._invoke(e,t)})})}function _(t,e){function r(o,a,c,u){var o=y(t[o],t,a),s,a;if("throw"!==o.type)return(a=(s=o.arg).value)&&"object"==i(a)&&n.call(a,"__await")?e.resolve(a.__await).then(function(t){r("next",t,c,u)},function(t){r("throw",t,c,u)}):e.resolve(a).then(function(t){s.value=t,c(s)},function(t){return r("throw",t,c,u)});u(o.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function k(e,r,n){var o=m;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var c=L(c,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var c=y(e,r,n);if("normal"===c.type){if(o=n.done?v:h,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=v,n.method="throw",n.arg=c.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n],n,o;return o===t?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b):"throw"===(n=y(o,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,b):(o=n.arg)?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function D(e){if(e||""===e){var r=e[u],o,r;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return o=-1,(r=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r}).next=r}throw new TypeError(i(e)+" is not iterable")}return o(j,"constructor",{value:w.prototype=O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=f(O,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var t="function"==typeof t&&t.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,f(t,s,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},x(_.prototype),f(_.prototype,l,function(){return this}),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(p(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},x(j),f(j,s,"Generator"),f(j,u,function(){return this}),f(j,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[],n;for(n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}var i=(a=a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc?null:a)?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],n,o;if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(o=n.arg,A(r)),o}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function u(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function l(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach(function(e){var n,o,e,c,n=t,o=e,e=r[e],c=((t,e)=>{if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=i(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==i(c)?c:c+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let f=/^(248|38|666)$/.test(r.j)?function(t){var e=t.eventRegistration,r=t.emitResponse,i,l=t.getData,f=t.confirmation_method,p=void 0===f?"automatic":f,y=e.onCheckoutSuccess,f=e.onCheckoutFail,h=t.billing.billingAddress,d=(0,n.useRef)({emitResponse:r,billingAddress:h}),v=((0,n.useEffect)(function(){d.current=s(s({},d.current),{},{emitResponse:r,billingAddress:h})},[r,h]),(0,o.iy)({emitResponse:r,subscriber:f,messageContext:r.noticeContexts.PAYMENTS}),(0,n.useCallback)((()=>{var t,e=(t=c().mark(function t(e){var r,n,o,n,u,s;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.redirectUrl,n=d.current,o=n.emitResponse,n=n.billingAddress,"automatic"!==p)t.next=12;else{if(u=(0,a.LI)(r))return t.next=6,a.eV;t.next=10}break;case 6:return s=t.sent,t.next=9,(0,a.aC)({args:u,stripe:s,emitResponse:o,billingAddress:n});case 9:case 14:return t.abrupt("return",t.sent);case 10:t.next=15;break;case 12:return t.next=14,(0,a.J3)({redirectUrl:r,getData:l,emitResponse:o});case 15:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){u(a,n,o,i,c,"next",t)}function c(t){u(a,n,o,i,c,"throw",t)}i(void 0)})});return function(t){return e.apply(this,arguments)}})(),[p]));return(0,n.useEffect)(function(){var t=y(v);return function(){return t()}},[y,v]),null}:null},531:(t,e,r)=>{r.r(e);var n=r(87),e=r(83),a=r(926),i=r(979),c=r(954),u=r(756),l=r(673),s=r(87);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var p=["getData"];function y(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach(function(e){var n,o,e,i,n=t,o=e,e=r[e],i=((t,e)=>{if("object"!=f(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=f(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(o);(o="symbol"==f(i)?i:i+"")in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function h(t,e){return(t=>{if(Array.isArray(t))return t})(t)||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(t,e)||((t,e)=>{var r;if(t)return"string"==typeof t?d(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0})(t,e)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var v=(0,c.mt)("stripe_upm_data"),b=v("i18n"),g=function(t){var e=t.billing,r=t.emitResponse,o=t.shouldSavePayment,c=t.eventRegistration,t=t.activePaymentMethod,f=v("name"),p=v("installmentsActive"),y=(0,a.useStripe)(),d=h((0,n.useState)({complete:!1,paymentMethodType:""}),2),g=d[0],w=d[1],d=h((0,n.useState)(!0),2),E=d[0],S=d[1],d=e.billingAddress,e=c.onCheckoutSuccess,x=c.onCheckoutFail,_=r.noticeContexts,x=((0,l.iy)({emitResponse:r,subscriber:x,messageContext:_.PAYMENTS}),(0,l.dP)({name:f,emitResponse:r,billingAddress:d,shouldSavePayment:o,eventRegistration:c,shouldCreatePaymentMethod:E})),_=(x.paymentMethodType,x.createPaymentMethod),C=x.setPaymentMethodType,A=x.addPaymentMethodData,o=((0,l.mk)({name:f,emitResponse:r,billingAddress:d,onCheckoutSuccess:e,activePaymentMethod:t}),(0,n.useCallback)(function(t){var e=t.value,e=void 0===e?null:e,t=t.complete,t=void 0!==t&&t;null!=e&&e.type&&(C(e.type),S(!["blik","boleto"].includes(e.type))),w({complete:t,paymentMethodType:e.type})},[])),c=m({defaultValues:{billingDetails:{phone:d.phone,email:d.email,name:"".concat(d.first_name," ").concat(d.last_name)}},fields:{billingDetails:{address:"never",name:"never",email:"never"}},wallets:{applePay:"never",googlePay:"never"}},v("paymentElementOptions"));return s.createElement(s.Fragment,null,s.createElement(a.PaymentElement,{options:c,onChange:o}),s.createElement(i.Fy,{active:p,i18n:b,paymentMethodType:g.paymentMethodType,stripe:y,cardFormComplete:g.complete,createPaymentMethod:_,onChange:function(t){return A("_stripe_installment_plan",t)}}))},r=function(t){t.getData;var n,t=((t,e)=>{if(null==t)return{};var r,n,o=((t,e)=>{if(null==t)return{};var r={},n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0<=e.indexOf(n))continue;r[n]=t[n]}return r})(t,e);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(t),n=0;n<a.length;n++)r=a[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r]);return o})(t,p),n=t.billing,o,i=t.shouldSavePayment,u=t.cartData.extensions,l=n.cartTotal,n=n.currency,n=m({mode:"payment",currency:null==n||null==(n=n.code)?void 0:n.toLowerCase()},u.stripe_upm.elementOptions);return i&&(n.mode="subscription"),l.value<=0&&(n=m(m({},n),{},{mode:"setup"})),["payment","subscription"].includes(n.mode)&&(n.amount=l.value),s.createElement(a.Elements,{stripe:c.eV,options:n},s.createElement(g,t))};(0,e.registerPaymentMethod)({name:v("name"),label:s.createElement(i.in,{title:v("title"),paymentMethod:v("name"),icons:v("icons")}),ariaLabel:"Credit Cards",canMakePayment:function(){return c.eV},content:s.createElement(i.g5,{content:r,getData:v}),savedTokenComponent:s.createElement(u.A,{getData:v,confirmation_method:"automatic"}),edit:s.createElement(i.g5,{content:r,getData:v}),supports:{showSavedCards:v("showSavedCards"),showSaveOption:v("showSaveOption"),features:v("features")}})},954:(t,e,r)=>{r.d(e,{$g:()=>tt,A7:()=>U,C8:()=>q,D$:()=>H,Im:()=>W,J3:()=>X,Jq:()=>it,LI:()=>mt,Lk:()=>at,MC:()=>yt,Mb:()=>pt,NM:()=>et,NQ:()=>lt,Sh:()=>K,Tt:()=>R,UC:()=>Z,VM:()=>nt,Y_:()=>B,Zw:()=>F,aC:()=>z,aM:()=>G,bO:()=>ct,eV:()=>I,g8:()=>$,is:()=>ft,jH:()=>vt,jT:()=>rt,jc:()=>ht,k7:()=>J,mt:()=>V,os:()=>dt,pf:()=>st,u1:()=>Y});var n=r(427),o=r(703),e=r(455),i=r.n(e),c=r(910),u=248==r.j?["id"]:null;function l(t){return(t=>{if(Array.isArray(t))return h(t)})(t)||(t=>{if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)})(t)||m(t)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function s(){s=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var e=e&&e.prototype instanceof g?e:g,e=Object.create(e.prototype),n=new M(n||[]);return o(e,"_invoke",{value:k(t,r,n)}),e}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var y="suspendedStart",m="suspendedYield",h="executing",v="completed",b={};function g(){}function w(){}function O(){}var a={},S=(l(a,i,function(){return this}),Object.getPrototypeOf),S=S&&S(S(D([]))),j=(S&&S!==r&&n.call(S,i)&&(a=S),O.prototype=g.prototype=Object.create(a));function x(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function _(t,e){function r(o,a,i,c){var o=p(t[o],t,a),l,a;if("throw"!==o.type)return(a=(l=o.arg).value)&&"object"==d(a)&&n.call(a,"__await")?e.resolve(a.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(a).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)});c(o.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function k(e,r,n){var o=y;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var c=L(c,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=p(e,r,n);if("normal"===c.type){if(o=n.done?v:m,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=v,n.method="throw",n.arg=c.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n],n,o;return o===t?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b):"throw"===(n=p(o,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,b):(o=n.arg)?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function D(e){if(e||""===e){var r=e[i],o,r;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return o=-1,(r=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r}).next=r}throw new TypeError(d(e)+" is not iterable")}return o(j,"constructor",{value:w.prototype=O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=l(O,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var t="function"==typeof t&&t.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,c,function(){return this}),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(f(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},x(j),l(j,u,"Generator"),l(j,i,function(){return this}),l(j,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[],n;for(n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}var i=(a=a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc?null:a)?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],n,o;if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(o=n.arg,A(r)),o}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function f(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function p(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){f(a,n,o,i,c,"next",t)}function c(t){f(a,n,o,i,c,"throw",t)}i(void 0)})}}function y(t,e){return(t=>{if(Array.isArray(t))return t})(t)||((t,e)=>{var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}})(t,e)||m(t,e)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function m(t,e){var r;if(t)return"string"==typeof t?h(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t){var e="function"==typeof Map?new Map:void 0;return(v=function(t){if(null===t||!(t=>{try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}})(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){var n,e;return b()?Reflect.construct.apply(null,arguments):((n=[null]).push.apply(n,e),e=new(t.bind.apply(t,n)),r&&g(e,r.prototype),e)}(t,arguments,w(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,t)})(t)}function b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(b=function(){return!!t})()}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){var r=Object.keys(t),n;return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach(function(e){S(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function S(t,e,r){return(e=P(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P(t){var t=((t,e)=>{if("object"!=d(t)||!t)return t;var r=t[Symbol.toPrimitive],r;if(void 0===r)return String(t);if("object"!=d(r=r.call(t,"string")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(t);return"symbol"==d(t)?t:t+""}var j,x,e=(0,o.getSetting)("stripeGeneralData"),k=e.publishableKey,L=e.stripeParams,C=(0,o.getSetting)("stripeErrorMessages"),A=(0,o.getSetting)("countryLocale",{}),M=/^([\w]+)\:(.+)$/,D=(0,o.getSetting)("stripeGeneralData").routes,T={},N={recipient:function(t,e){return t.first_name=e.split(" ").slice(0,-1).join(" "),t.last_name=e.split(" ").pop(),t},payerName:function(t,e){return t.first_name=e.split(" ").slice(0,-1).join(" "),t.last_name=e.split(" ").pop(),t},country:"country",addressLine:function(t,e){return e[0]&&(t.address_1=e[0]),e[1]&&(t.address_2=e[1]),t},line1:"address_1",line2:"address_2",city:"city",region:"state",state:"state",postalCode:"postcode",postal_code:"postcode",payerEmail:"email",payerPhone:"phone"},I=new Promise(function(t,e){(0,n.c)(k,L).then(function(e){t(e)}).catch(function(e){t({error:e})})}),R=function(t){var e=t.id,t=((t,e)=>{if(null==t)return{};var r,n,o=((t,e)=>{if(null==t)return{};var r={},n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0<=e.indexOf(n))continue;r[n]=t[n]}return r})(t,e);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(t),n=0;n<a.length;n++)r=a[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r]);return o})(t,u);T[e]=t},B=function(t){return T.hasOwnProperty(t)?T[t]:{}},G=function(t){return null!=D&&D[t]?D[t]:console.log("".concat(t," is not a valid route"))},F=function(t){var e;return E({type:t.SUCCESS},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})},U=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return E({type:t.ERROR,message:Y(e)},r)},Y=function(t){return"string"==typeof t?t:null!=t&&t.code&&null!=C&&C[t.code]?C[t.code]:null!=t&&t.statusCode?null!=C&&C[t.statusCode]?C[t.statusCode]:t.statusMessage:t.message},q=function(t){var e={name:"".concat(t.first_name," ").concat(t.last_name),address:{city:t.city||null,country:t.country||null,line1:t.address_1||null,line2:t.address_2||null,postal_code:t.postcode||null,state:t.state||null}};return null!=t&&t.phone&&(e.phone=t.phone),null!=t&&t.email&&(e.email=t.email),e},V=function(t){return function(e){return e?(0,o.getSetting)(t)[e]:(0,o.getSetting)(t)}},$=/^(38|666|919|996)$/.test(r.j)?null:(t=>{function e(t){var o,n,o,a;return((t,e)=>{if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),n=this,a=[t.message],o=w(o=e),(o=((t,e)=>{if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(t=>{if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t})(t)})(n,b()?Reflect.construct(o,a,w(n).constructor):o.apply(n,a))).error=t,o}return((t,e)=>{if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)})(e,t),t=e,Object.defineProperty(t,"prototype",{writable:!1}),t;var t})(v(Error)),W=function(t){return"string"==typeof t?0==t.length||""==t:Array.isArray(t)?0==array.length:"object"!==d(t)||0==Object.keys(t).length},J=function(t,e){return t/Math.pow(10,e)},K=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r,r;return-1<["phone","shipping-phone","email"].indexOf(t)?!!(r=document.getElementById(t))&&r.required:(r=(t=>{var e=E({},A.default);return t&&null!=A&&A[t]&&(e=Object.entries(A[t]).reduce(function(t,e){var e=y(e,2),n=e[0],e=e[1];return t[n]=E(E({},t[n]),e),t},e),["phone","shipping-phone","email"].forEach(function(t){var r=document.getElementById(t);r&&(e[t]={required:r.required})})),e})(e),[t]in r&&r[t].required)},H=function(t){var t=t.match(M),r;return t?(r=t[1],[t[2],r]):[]},X=/^9(19|96)$/.test(r.j)?null:(j=p(s().mark(function t(e){var r,n,o,a,a,u,u,f,f,r,r,h,d,v,b,g,w,O;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.redirectUrl,n=e.emitResponse,o=e.name,a=void 0===(a=e.method)?"confirmCardPayment":a,u=void 0!==(u=e.savePaymentMethod)&&u,f=void 0===(f=e.data)?{}:f,t.prev=1,r=r.match(/#response=(.+)/))return r=JSON.parse(window.atob(decodeURIComponent(r[1]))),h=r.type,d=r.client_secret,v=r.order_id,b=r.order_key,t.next=7,I;t.next=28;break;case 7:if(g=t.sent,"payment_intent"===h)return t.next=11,g[a](d);t.next=14;break;case 11:w=t.sent,t.next=17;break;case 14:return t.next=16,g.confirmCardSetup(d);case 16:w=t.sent;case 17:if(w.error)return t.abrupt("return",U(n.responseTypes,w.error,{messageContext:n.noticeContexts.PAYMENTS}));t.next=19;break;case 19:return f=E(E({},f),{},S({order_id:v,order_key:b},"".concat(o,"_save_source_key"),u)),t.next=22,i()({url:G("process/payment"),method:"POST",data:f});case 22:if((O=t.sent).messages)return t.abrupt("return",U(n.responseTypes,O.messages,{messageContext:n.noticeContexts.PAYMENTS}));t.next=25;break;case 25:return t.abrupt("return",F(n.responseTypes,{redirectUrl:O.redirect}));case 28:return t.abrupt("return",F(n.responseTypes));case 29:t.next=35;break;case 31:return t.prev=31,t.t0=t.catch(1),console.log(t.t0),t.abrupt("return",U(n.responseTypes,t.t0,{messageContext:n.noticeContexts.PAYMENTS}));case 35:case"end":return t.stop()}},t,null,[[1,31]])})),function(t){return j.apply(this,arguments)}),z=/^(248|38|666)$/.test(r.j)?(x=p(s().mark(function t(e){var r,n,o,o,i,c,u,l,f,p,p,r,r,d,f,u;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.args,n=e.stripe,o=void 0===(o=e.elements)?null:o,i=e.emitResponse,c=e.billingAddress,u=r.type,l=r.client_secret,f=r.status,p=void 0===(p=r.return_url)?null:p,r=void 0===(r=r.confirmation_args)?null:r,["requires_action","requires_payment_method","requires_confirmation"].includes(f)){if(t.prev=3,"payment_intent"===u)return t.next=7,n.confirmPayment(E(E({},o&&{elements:o}),{},{clientSecret:l,redirect:"if_required",confirmParams:E({return_url:p,payment_method_data:{billing_details:q(c)},expand:["payment_method"]},r)}));t.next=10}else t.next=32;break;case 7:d=t.sent,t.next=13;break;case 10:return t.next=12,n.confirmSetup({clientSecret:l,redirect:"always",confirmParams:{return_url:p,payment_method_data:{billing_details:q(c)},expand:["payment_method"]}});case 12:d=t.sent;case 13:if(d.error)throw d.error;t.next=15;break;case 15:if(f=d.paymentIntent.payment_method,["promptpay","swish","paynow","cashapp"].includes(f.type)){if("requires_action"===d.paymentIntent.status)throw{code:"payment_cancelled"};t.next=19}else t.next=21;break;case 19:if("requires_payment_method"===d.paymentIntent.status)throw{code:d.paymentIntent.last_payment_error.code};t.next=21;break;case 21:return(u=new URL(p)).searchParams.append("payment_intent",d.paymentIntent.id),u.searchParams.append("payment_intent_client_secret",d.paymentIntent.client_secret),t.abrupt("return",F(i.responseTypes,{redirectUrl:u.toString()}));case 27:return t.prev=27,t.t0=t.catch(3),t.abrupt("return",U(i.responseTypes,t.t0,{messageContext:i.noticeContexts.PAYMENTS}));case 30:t.next=33;break;case 32:return t.abrupt("return",F(i.responseTypes));case 33:case"end":return t.stop()}},t,null,[[3,27]])})),function(t){return x.apply(this,arguments)}):null,Z=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:N;return function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={};e=E(E({},e),Q(r));for(var o=0,a=Object.entries(t);o<a.length;o++){var i,c=y(a[o],2),u=c[0],c=c[1];null!=(i=e)&&i[u]&&("function"==typeof c?c(n,e[u]):n[c]=e[u])}return n}},Q=function(t){return Object.keys(t).filter(function(e){return Boolean(t[e])}).reduce(function(e,r){return E(E({},e),{},S({},r,t[r]))},{})},tt=function(t,e){var u,e=(0,c.getCurrency)(e),o=e.prefix,a=e.suffix,i=e.decimalSeparator,u=e.minorUnit,e=e.thousandSeparator;if(""==t||void 0===t)return t;t="string"==typeof t?parseInt(t,10):t;var s="",f=(t=(t/=Math.pow(10,u)).toString().replace(".",i)).indexOf(i),f=(f<0?0<u&&(t+="".concat(i).concat(new Array(u+1).join("0"))):(s=t.substr(f+1)).length<u&&(t+=new Array(u-s.length+1).join("0")),t.match(new RegExp("(\\d+)\\".concat(i,"(\\d+)"))));return f&&(t=f[1],s=f[2]),t=t.replace(new RegExp("\\B(?=(\\d{3})+(?!\\d))","g"),"".concat(e)),o+(t=0<(null==(u=s)?void 0:u.length)?t+i+s:t)+a},et=function(t){var e=[];return t.forEach(function(t,r){t.shipping_rates.sort(function(t){return t.selected?-1:1});var t=t.shipping_rates.map(function(t){var e=document.createElement("textarea");return e.innerHTML=t.name,tt(t.price,t.currency_code),{id:rt(r,t.rate_id),label:e.value,amount:parseInt(t.price,10)}});e=[].concat(l(e),l(t))}),e},rt=function(t,e){return"".concat(t,":").concat(e)},nt=function(t,e){e.minorUnit;var r=[],n=["total_tax","total_shipping"];return t.forEach(function(t){(0<t.value||t.key&&n.includes(t.key))&&r.push({label:t.label,pending:!1,amount:t.value})}),r},ot={},at=function(t,e){var r=t.country,n=t.currency,o=t.total;return new Promise(function(t,a){var i=[r,n,o.amount].reduce(function(t,e){return"".concat(t,"-").concat(e)});return n?i in ot?t(ot[i]):I.then(function(c){if(c.error)return a(c.error);c.paymentRequest({country:r,currency:n,total:o}).canMakePayment().then(function(r){return ot[i]=e(r),t(ot[i])})}).catch(a):t(!1)})},it=function(){var t=(0,o.getSetting)("stripePaymentData");return t&&t.pre_order},ct=function(){var t=(0,o.getSetting)("stripePaymentData");return t&&t.subscription},ut=function(t){return"".concat("stripe:").concat(t)},lt=function(t,e){var r=Math.floor((new Date).getTime()/1e3)+900;"sessionStorage"in window&&sessionStorage.setItem(ut(t),JSON.stringify({value:e,exp:r}))},st=function(t){if("sessionStorage"in window)try{var e=JSON.parse(sessionStorage.getItem(ut(t)));if(e){var r=e.value,n=e.exp;if(!(Math.floor((new Date).getTime()/1e3)>n))return r;ft(ut(t))}}catch(t){}return null},ft=function(t){"sessionStorage"in window&&sessionStorage.removeItem(ut(t))},pt=function(){return"cart"===(0,o.getSetting)("stripeGeneralData").page},yt=function(){return"checkout"===(0,o.getSetting)("stripeGeneralData").page},mt=function(t){var t=t.match(/#response=(.+)/),r=null;return r=t?JSON.parse(window.atob(decodeURIComponent(t[1]))):r},ht=function(t){var e=t.requiredParams,r=t.currency,t=t.country,t=void 0===t?null:t;return t?r in e&&e[r].includes(t):r in e},dt={first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},vt=E(E({},dt),{},{email:""})},942:(t,e)=>{var e,n;function o(){for(var t="",e=0;e<arguments.length;e++){var r=arguments[e];r&&(t=i(t,a(r)))}return t}function a(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return o.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="",r;for(r in t)n.call(t,r)&&t[r]&&(e=i(e,r));return e}function i(t,e){return e?t?t+" "+e:t+e:t}n={}.hasOwnProperty,!void(t.exports?t.exports=o.default=o:void 0===(e=function(){return o}.apply(e,[]))||(t.exports=e))}}]);