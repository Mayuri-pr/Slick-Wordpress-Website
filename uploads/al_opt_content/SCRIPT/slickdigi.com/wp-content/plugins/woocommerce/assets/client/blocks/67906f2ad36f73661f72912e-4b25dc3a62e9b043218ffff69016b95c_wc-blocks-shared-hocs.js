(()=>{var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{withFilteredAttributes:()=>m,withProductDataContext:()=>h});let r=window.React,o=window.wc.wcBlocksData,n=window.wp.data,a=window.wp.element,s=window.wp.isShallowEqual;var c=e.n(s);function u(e){var t=(0,a.useRef)(e);return c()(e,t.current)||(t.current=e),t.current}let i=window.wc.wcTypes,l=e=>{var t={namespace:"/wc/store/v1",resourceName:"products"},{results:r,isLoading:s}=(e=>{let{namespace:t,resourceName:r,resourceValues:s=[],query:c={},shouldSelect:l=!0}=e;if(!t||!r)throw new Error("The options object must have valid values for the namespace and the resource properties.");let d=(0,a.useRef)({results:[],isLoading:!0}),p=u(c),w=u(s),h=(()=>{let[,e]=(0,a.useState)();return(0,a.useCallback)(t=>{e(()=>{throw t})},[])})(),m=(0,n.useSelect)(e=>{if(!l)return null;var e=e(o.COLLECTIONS_STORE_KEY),a=[t,r,p,w],s=e.getCollectionError(...a);if(s){if(!(0,i.isError)(s))throw new Error("TypeError: `error` object is not an instance of Error constructor");h(s)}return{results:e.getCollection(...a),isLoading:!e.hasFinishedResolution("getCollection",a)}},[t,r,w,p,l,h]);return null!==m&&(d.current=m),d.current})({...t,query:e}),{value:t}=((e,t)=>{let{namespace:r,resourceName:a,resourceValues:s=[],query:c={}}=t;if(!r||!a)throw new Error("The options object must have valid values for the namespace and the resource name properties.");let i=u(c),l=u(s),{value:d,isLoading:p=!0}=(0,n.useSelect)(t=>{var t=t(o.COLLECTIONS_STORE_KEY),s=[e,r,a,i,l];return{value:t.getCollectionHeader(...s),isLoading:t.hasFinishedResolution("getCollectionHeader",s)}},[e,r,a,l,i]);return{value:d,isLoading:p}})("x-wp-total",{...t,query:e});return{products:r,totalProducts:parseInt(t,10),productsLoading:s}},d=window.wc.wcBlocksSharedContext,p=(e,t)=>e.find(e=>e.id===t),w=e=>{var{productId:t,OriginalComponent:o,postId:n,product:a}=e,n=null!=e&&e.isDescendentOfQueryLoop?n:t,{products:t,productsLoading:u}=l({include:n}),t={product:0<n&&0<t.length?p(t,n):null,isLoading:u};return a?(0,r.createElement)(d.ProductDataContextProvider,{product:a,isLoading:!1},(0,r.createElement)(o,{...e})):(0,r.createElement)(d.ProductDataContextProvider,{product:t.product,isLoading:t.isLoading},(0,r.createElement)(o,{...e}))},h=e=>t=>{var o=(0,d.useProductDataContext)();return t.product||!o.hasContext?(0,r.createElement)(w,{...t,OriginalComponent:e}):(0,r.createElement)(e,{...t})},m=e=>t=>o=>{var n=((e,t)=>{let r=[];return Object.keys(e).forEach(o=>{if(void 0!==t[o])switch(e[o].type){case"boolean":r[o]="false"!==t[o]&&!1!==t[o];break;case"number":r[o]=parseInt(t[o],10);break;case"array":case"object":r[o]=JSON.parse(t[o]);break;default:r[o]=t[o]}else r[o]=e[o].default}),r})(e,o);return(0,r.createElement)(t,{...o,...n})};(this.wc=this.wc||{}).wcBlocksSharedHocs=t})();